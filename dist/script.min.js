(()=>{var j={MOBILE:640,TABLET:768,DESKTOP:1280};var _=window.ENVIRONMENT||"production";window.addEventListener("error",function(e){return console.error("Global error:",e.error),_==="development"&&console.error("Error details:",{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error}),!1});window.addEventListener("unhandledrejection",function(e){console.error("Unhandled promise rejection:",e.reason),_==="development"&&console.error("Rejection details:",e.reason)});function F(e){return function(...o){try{return e.apply(this,o)}catch(l){console.error("Error in event handler:",l),_==="development"&&console.error("Handler error details:",{error:l.message,stack:l.stack,args:o})}}}function z(e){let o=document.createElement("div");return o.textContent=e,o.innerHTML}function M(e,o){let l;return function(...f){let i=()=>{clearTimeout(l),e(...f)};clearTimeout(l),l=setTimeout(i,o)}}var g={sidebar:null,sidebarTexts:null,sidebarMenuLinks:null,sidebarMenuSvgs:null,sidebarLogoImg:null,sidebarSignin:null,sidebarHelperIcons:null,imageGallery:null,tagsContainer:null,filterSection:null,desktopFilters:{},mobileSidebar:null,mobileSidebarOverlay:null,mobileMenuBtn:null,mobileSidebarClose:null};function J(){g.sidebar=document.getElementById("logo-sidebar"),g.sidebarTexts=document.querySelectorAll(".sidebar-text"),g.sidebarMenuLinks=document.querySelectorAll("#logo-sidebar .sidebar-menu a"),g.sidebarMenuSvgs=document.querySelectorAll("#logo-sidebar .sidebar-menu svg"),g.sidebarLogoImg=document.getElementById("sidebar-logo-img"),g.sidebarSignin=document.querySelector(".sidebar-signin"),g.sidebarHelperIcons=document.querySelector(".sidebar-helper-icons .flex"),g.imageGallery=document.getElementById("image-gallery"),g.tagsContainer=document.getElementById("tags-container"),g.filterSection=document.getElementById("filters-section"),["license","ai","orientation","color","people","filetype"].forEach(o=>{g.desktopFilters[o]={btn:document.getElementById(`${o}-btn`),popup:document.getElementById(`${o}-popup`),chevron:document.getElementById(`${o}-chevron`)}}),g.mobileSidebar=document.getElementById("mobile-sidebar"),g.mobileSidebarOverlay=document.getElementById("mobile-sidebar-overlay"),g.mobileMenuBtn=document.getElementById("mobile-menu-btn"),g.mobileSidebarClose=document.getElementById("mobile-sidebar-close")}document.addEventListener("DOMContentLoaded",function(){J(),Z(),Y(),ee(),oe(),ne(),ie(),le(),se(),re(),ce(),K(),te()});function K(){function e(i){if(!i.dataset.src)return;let t=i.dataset.src;i.src=t,i.removeAttribute("data-src"),i.classList.add("loaded")}function o(i){if(!i.dataset.src||i.src&&i.src!==i.dataset.src&&!i.src.includes("data:image/svg"))return;let t=new Image;t.onload=function(){i.src=i.dataset.src,i.classList.remove("loading"),i.classList.add("loaded"),i.removeAttribute("data-src")},t.onerror=function(){console.error("Failed to load image:",i.dataset.src),i.classList.add("error"),i.classList.remove("loading")},i.classList.add("loading"),t.src=i.dataset.src}function l(i){let t=i.getBoundingClientRect();return t.top<window.innerHeight+200&&t.bottom>-200&&t.left<window.innerWidth+200&&t.right>-200}function s(){document.querySelectorAll("img[data-src]").forEach(i=>{l(i)&&e(i)})}if(s(),setTimeout(()=>{let i=document.querySelectorAll("img[data-src]");i.length>0&&i.forEach(t=>{e(t)})},500),!("IntersectionObserver"in window)){setTimeout(()=>{document.querySelectorAll("img[data-src]").forEach(i=>{e(i)})},100);return}let f=new IntersectionObserver((i,t)=>{i.forEach(a=>{if(a.isIntersecting){let p=a.target;p.dataset.src&&(e(p),t.unobserve(p))}})},{rootMargin:"200px",threshold:.01});window.imageObserver=f,document.querySelectorAll("img[data-src]").forEach(i=>{f.observe(i),i.classList.add("observed")}),setTimeout(s,100)}function X(){function e(l){let s=l.getBoundingClientRect();return s.top<window.innerHeight+200&&s.bottom>-200&&s.left<window.innerWidth+200&&s.right>-200}function o(l){if(!l.dataset.src)return;let s=l.dataset.src;l.src=s,l.removeAttribute("data-src"),l.classList.add("loaded")}if(!window.imageObserver){document.querySelectorAll("img[data-src]").forEach(l=>{o(l)});return}document.querySelectorAll("img[data-src]").forEach(l=>{l.classList.contains("observed")||(e(l)?o(l):(window.imageObserver.observe(l),l.classList.add("observed")))})}function Z(){let e=g.sidebar||document.getElementById("logo-sidebar"),o=document.getElementById("sidebar-collapse-btn"),l=document.querySelector(".ml-64"),s=document.querySelector(".sidebar-logo"),f=document.querySelector(".sidebar-divider"),i=document.querySelector("header img"),t=localStorage.getItem("sidebarCollapsed")==="true";function a(){let c=window.innerWidth;c<j.DESKTOP?o&&(o.style.display="none"):c>=j.DESKTOP&&(o&&(o.style.display="block"),t?p():r())}function p(){i&&i.classList.remove("hidden"),e.classList.remove("w-64"),e.classList.add("w-16"),l.classList.remove("ml-64"),l.classList.add("ml-16"),s.classList.remove("justify-between"),s.classList.add("justify-center"),g.sidebarTexts&&g.sidebarTexts.forEach(I=>{I.classList.add("hidden")}),g.sidebarLogoImg&&g.sidebarLogoImg.classList.add("hidden"),f.classList.remove("mx"),f.classList.add("mx-2"),g.sidebarSignin&&g.sidebarSignin.classList.add("hidden"),g.sidebarMenuLinks&&g.sidebarMenuLinks.forEach(I=>{I.classList.remove("p-2"),I.classList.add("p-1","justify-center")}),g.sidebarMenuSvgs&&g.sidebarMenuSvgs.forEach(I=>{I.classList.add("m-1")});let c=document.querySelector(".sidebar-helper-icons .flex");c.classList.remove("justify-between"),c.classList.add("flex-col","gap-2","items-center"),c.children[0].children[1].classList.add("hidden"),o.querySelector("svg").classList.add("-rotate-90"),document.querySelector(".sidebar-helper-icons .flex").classList.remove("justify-between"),document.querySelector(".sidebar-helper-icons .flex").classList.add("justify-center"),document.querySelector(".sidebar-helper-icons .flex > div").classList.remove("flex","gap-4"),document.querySelector(".sidebar-helper-icons .flex > div").classList.add("flex-col","gap-2"),document.querySelector(".sidebar-helper-icons .flex > div").children[1].classList.add("hidden")}function r(){let c=document.getElementById("sidebar-fouc-style");c&&c.remove(),i&&i.classList.add("hidden"),e.classList.remove("w-16"),e.classList.add("w-64"),l.classList.remove("ml-16"),l.classList.add("ml-64"),s.classList.add("justify-between"),s.classList.remove("justify-center"),setTimeout(()=>{g.sidebarTexts&&g.sidebarTexts.forEach(y=>{y.classList.remove("hidden")}),g.sidebarLogoImg&&g.sidebarLogoImg.classList.remove("hidden"),g.sidebarSignin&&g.sidebarSignin.classList.remove("hidden")},150),f.classList.add("mx"),f.classList.remove("mx-2"),g.sidebarMenuLinks&&g.sidebarMenuLinks.forEach(y=>{y.classList.add("p-2"),y.classList.remove("p-1","justify-center")}),g.sidebarMenuSvgs&&g.sidebarMenuSvgs.forEach(y=>{y.classList.remove("m-1")});let m=document.querySelector(".sidebar-helper-icons .flex");m.classList.add("justify-between"),m.classList.remove("flex-col","gap-2","items-center"),m.children[0].children[1].classList.remove("hidden"),o.querySelector("svg").classList.remove("-rotate-90"),document.querySelector(".sidebar-helper-icons .flex").classList.add("justify-between"),document.querySelector(".sidebar-helper-icons .flex").classList.remove("justify-center"),document.querySelector(".sidebar-helper-icons .flex > div").classList.add("flex","gap-4"),document.querySelector(".sidebar-helper-icons .flex > div").classList.remove("flex-col","gap-2"),document.querySelector(".sidebar-helper-icons .flex > div").children[1].classList.remove("hidden")}window.addEventListener("resize",M(a,250)),a(),o?.addEventListener("click",function(){t=!t,localStorage.setItem("sidebarCollapsed",t),t?p():r()})}function Y(){let e=document.querySelector('input[type="search"]'),o=document.querySelector(".absolute.right-20");if(e&&o){let s=function(){e.value.trim()!==""?o.classList.remove("hidden"):o.classList.add("hidden")};var l=s;e.addEventListener("input",s),o.addEventListener("click",function(){e.value="",s(),e.focus()}),s()}}document.addEventListener("click",function(e){document.querySelectorAll("details").forEach(l=>{l.open&&!l.contains(e.target)&&(l.open=!1)})});var R=document.querySelector(".chevron"),Q=R?.closest("button"),A=document.getElementById("filters-section"),O=localStorage.getItem("filterDropdownOpen")==="true";function $(){return window.innerWidth>=j.MOBILE}if(R&&A&&$()){O?(R.innerHTML='<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />',A.style.display="flex"):(R.innerHTML='<path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />',A.style.display="none");let e=document.getElementById("filter-fouc-style");e&&e.remove()}Q?.addEventListener("click",()=>{let e=document.getElementById("filter-fouc-style");e&&e.remove(),R.innerHTML=O?'<path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />':'<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />',O=!O,localStorage.setItem("filterDropdownOpen",O),A&&(A.style.display=A.style.display==="none"?"flex":"none")});window.addEventListener("resize",M(()=>{A&&($()?A.style.display=O?"flex":"none":A.style.display="none")},250));function ee(){let e=[{btn:"license-btn",popup:"license-popup",chevron:"license-chevron"},{btn:"ai-btn",popup:"ai-popup",chevron:"ai-chevron"},{btn:"orientation-btn",popup:"orientation-popup",chevron:"orientation-chevron"},{btn:"color-btn",popup:"color-popup",chevron:"color-chevron"},{btn:"people-btn",popup:"people-popup",chevron:"people-chevron"},{btn:"filetype-btn",popup:"filetype-popup",chevron:"filetype-chevron"}];function o(t,a){let p=t.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft;a.style.left=p.left+r+"px",a.style.top=p.bottom+8+"px"}function l(t=null){Object.values(g.desktopFilters).forEach(r=>{let{popup:c,chevron:m}=r;c&&c!==t&&(c.classList.add("hidden"),c.style.display=""),m&&m!==t?.previousElementSibling?.querySelector("svg")&&m.classList.remove("rotate-180")});let a=document.getElementById("relevance-popup"),p=document.getElementById("relevance-chevron");a&&a!==t&&a.classList.add("hidden"),p&&p.classList.remove("rotate-180")}Object.values(g.desktopFilters).forEach(t=>{let{btn:a,popup:p,chevron:r}=t;a&&p&&(a.addEventListener("click",c=>{c.stopPropagation(),p.classList.contains("hidden")?($()&&l(p),o(a,p),p.classList.remove("hidden"),r&&r.classList.add("rotate-180")):(p.classList.add("hidden"),r&&r.classList.remove("rotate-180"))}),p.addEventListener("click",c=>c.stopPropagation()))});let s=document.getElementById("relevance-chevron"),f=document.getElementById("relevance-popup"),i=s?.closest("button");i&&f&&(i.addEventListener("click",t=>{t.stopPropagation(),f.classList.contains("hidden")?(l(f),f.classList.remove("hidden"),s.classList.add("rotate-180")):(f.classList.add("hidden"),s.classList.remove("rotate-180"))}),f.addEventListener("click",t=>t.stopPropagation())),document.addEventListener("click",t=>{let a=t.target.closest('[id$="-btn"], [id$="-chevron"], [id$="-popup"]'),p=t.target.closest("#relevance-chevron, #relevance-popup")||t.target.closest("li:has(#relevance-chevron)");!a&&!p&&l()}),window.addEventListener("scroll",()=>{e.forEach(t=>{let a=document.getElementById(t.btn),p=document.getElementById(t.popup);a&&p&&!p.classList.contains("hidden")&&o(a,p)})}),window.addEventListener("resize",M(()=>{e.forEach(t=>{let a=document.getElementById(t.btn),p=document.getElementById(t.popup);a&&p&&!p.classList.contains("hidden")&&o(a,p)})},250)),e.forEach(t=>{let a=document.getElementById(t.popup);a&&(a.classList.add("hidden"),a.style.display="")}),f&&f.classList.add("hidden")}function te(){document.querySelectorAll(".people-count-btn").forEach(e=>{e.addEventListener("click",function(){document.querySelectorAll(".people-count-btn").forEach(o=>o.classList.remove("bg-green-600")),this.classList.add("bg-green-600")})})}function oe(){let{mobileSidebarOverlay:e,mobileSidebar:o,mobileMenuBtn:l,mobileSidebarClose:s}=g;l?.addEventListener("click",function(){e.classList.remove("hidden"),o.classList.remove("-translate-x-full"),document.body.classList.add("overflow-hidden")}),s?.addEventListener("click",function(){e.classList.add("hidden"),o.classList.add("-translate-x-full"),document.body.classList.remove("overflow-hidden")}),e?.addEventListener("click",function(f){f.target===e&&(e.classList.add("hidden"),o.classList.add("-translate-x-full"),document.body.classList.remove("overflow-hidden"))})}function ne(){let e=document.getElementById("mobile-filters-btn"),o=document.getElementById("mobile-filter-overlay"),l=document.getElementById("close-filter-overlay"),s=document.getElementById("mobile-header-dim"),f=document.getElementById("mobile-all-images-btn"),i=document.getElementById("mobile-all-images-dropdown"),t=document.getElementById("mobile-all-images-text"),a=document.getElementById("mobile-all-images-chevron");e?.addEventListener("click",c=>{c.stopPropagation(),i&&(i.classList.add("hidden"),a?.classList.remove("rotate-180")),o&&(o.classList.remove("hidden"),s?.classList.remove("hidden"),document.body.style.overflow="hidden")}),l?.addEventListener("click",()=>{o&&(o.classList.add("hidden"),s?.classList.add("hidden"),document.body.style.overflow="")}),f?.addEventListener("click",c=>{c.stopPropagation(),i?.classList.contains("hidden")?(i?.classList.remove("hidden"),a?.classList.add("rotate-180")):(i?.classList.add("hidden"),a?.classList.remove("rotate-180"))});let p=document.querySelectorAll(".mobile-category-option");document.querySelectorAll('input[name="mobile-category"]').forEach(c=>{c.addEventListener("change",function(){let m=this.closest(".mobile-category-option"),b=m?.querySelector("span")?.textContent.trim();t&&b&&(t.textContent=b),p.forEach(I=>{I.classList.remove("text-white"),I.classList.add("text-gray-400")}),m&&(m.classList.add("text-white"),m.classList.remove("text-gray-400")),i?.classList.add("hidden"),a?.classList.remove("rotate-180")})}),document.addEventListener("click",c=>{!c.target.closest("#mobile-all-images-btn")&&!c.target.closest("#mobile-all-images-dropdown")&&(i?.classList.add("hidden"),a?.classList.remove("rotate-180"))})}function ie(){[{btn:"mobile-license-btn",popup:"mobile-license-popup"},{btn:"mobile-ai-btn",popup:"mobile-ai-popup"},{btn:"mobile-orientation-btn",popup:"mobile-orientation-popup"},{btn:"mobile-color-btn",popup:"mobile-color-popup"},{btn:"mobile-people-btn",popup:"mobile-people-popup"},{btn:"mobile-filetype-btn",popup:"mobile-filetype-popup"}].forEach(o=>{let l=document.getElementById(o.btn),s=document.getElementById(o.popup);l&&s&&(l.addEventListener("click",f=>{f.stopPropagation(),s.classList.contains("hidden")?s.classList.remove("hidden"):s.classList.add("hidden")}),s.addEventListener("click",f=>f.stopPropagation()))})}function W(){let e={download:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
    </svg>`,edit:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" />
    </svg>`,save:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
    </svg>`,search:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
      <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607Z" />
    </svg>`};function o(){return`
      <div class="overlay absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 rounded-lg"></div>
      <div class="action-buttons absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex gap-2">
        <button title="Download" class="download-btn p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700 transition" data-action="download">
          ${e.download}
        </button>
        <button title="Edit with AI" class="edit-btn p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700 transition" data-action="edit">
          ${e.edit}
        </button>
        <button title="Save to collection" class="save-btn p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700 transition" data-action="save">
          ${e.save}
        </button>
      </div>
      <div class="discover-section absolute bottom-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
        <button class="discover-btn flex items-center gap-2 text-white bg-gray-800 bg-opacity-70 rounded-full px-3 py-1 text-sm hover:bg-opacity-90 transition" data-action="discover">
          ${e.search}
          Discover similar
        </button>
      </div>
    `}function l(r){try{let m=document.querySelector(`[data-image="${r}"]`)?.querySelector("img");if(m&&m.src){let b=document.createElement("a");b.href=m.src,b.download=m.alt||`image-${r}`,b.target="_blank",document.body.appendChild(b),b.click(),document.body.removeChild(b),t("Download started","success")}else t("Image not found","error")}catch(c){console.error("Error downloading image:",c),t("Failed to download image","error")}}function s(r){try{let m=document.querySelector(`[data-image="${r}"]`)?.querySelector("img");m&&m.src?(window.open(m.src,"_blank"),t("Opening image editor...","info")):t("Image not found","error")}catch(c){console.error("Error opening image editor:",c),t("Failed to open image editor","error")}}function f(r){try{let c=JSON.parse(localStorage.getItem("imageCollections")||"[]");return c.includes(r)?!1:(c.push(r),localStorage.setItem("imageCollections",JSON.stringify(c)),!0)}catch(c){return console.error("Error saving to collection:",c),!1}}function i(r){try{let m=document.querySelector(`[data-image="${r}"]`)?.querySelector("img");if(m&&m.alt){let b=document.querySelector('input[type="search"]');if(b){b.value=m.alt,b.dispatchEvent(new Event("input",{bubbles:!0}));let I=b.closest("form")||document.querySelector("form");I&&I.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}t("Searching for similar images...","info")}else t("Image information not available","error")}catch(c){console.error("Error finding similar images:",c),t("Failed to find similar images","error")}}function t(r,c="info"){try{let m=document.createElement("div");m.className="fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg transition-all duration-300 transform translate-x-full";let b={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white",warning:"bg-yellow-600 text-white"};m.className+=" "+(b[c]||b.info),m.textContent=r,document.body.appendChild(m),requestAnimationFrame(()=>{m.classList.remove("translate-x-full")}),setTimeout(()=>{m.classList.add("translate-x-full"),setTimeout(()=>{m.parentNode&&m.parentNode.removeChild(m)},300)},3e3)}catch(m){console.error("Error showing notification:",m),console.log(`[${c.toUpperCase()}] ${r}`)}}function a(r,c,m){try{switch(r){case"download":l(c);break;case"edit":s(c);break;case"save":{f(c)?t("Image saved to collection!","success"):t("Image already in collection","info");break}case"discover":i(c);break;default:console.warn("Unknown image action:",r)}}catch(b){console.error("Error handling image action:",b),t("An error occurred. Please try again.","error")}}document.querySelectorAll(".image-card").forEach(r=>{r.innerHTML+=o();let c=r.querySelector(".download-btn"),m=r.querySelector(".edit-btn"),b=r.querySelector(".save-btn"),I=r.querySelector(".discover-btn"),y=r.dataset.image,x=r.querySelector("img").alt;c?.addEventListener("click",F(k=>{k.preventDefault(),a("download",y,x)})),m?.addEventListener("click",F(k=>{k.preventDefault(),a("edit",y,x)})),b?.addEventListener("click",F(k=>{k.preventDefault(),a("save",y,x)})),I?.addEventListener("click",F(k=>{k.preventDefault(),a("discover",y,x)}))})}function le(){let e=document.querySelector('input[type="search"]'),o=document.querySelectorAll(".overflow-x-auto ul li"),l=document.getElementById("tags-container"),s=document.getElementById("tags-scroll-left"),f=document.getElementById("tags-scroll-right");if(o.forEach(t=>{t.addEventListener("click",function(){let a=this.textContent.trim();e&&(e.value=a),window.scrollTo({top:0,behavior:"smooth"}),o.forEach(p=>p.classList.remove("bg-gray-600")),this.classList.add("bg-gray-600")})}),l&&s&&f){let a=function(){let{scrollLeft:p,scrollWidth:r,clientWidth:c}=l;p>0?s.classList.remove("hidden"):s.classList.add("hidden"),p+c<r-10?f.classList.remove("hidden"):f.classList.add("hidden")};var i=a;s.addEventListener("click",()=>{l.scrollBy({left:-300,behavior:"smooth"})}),f.addEventListener("click",()=>{l.scrollBy({left:300,behavior:"smooth"})}),l.addEventListener("scroll",a),a(),window.addEventListener("resize",M(a,250))}}function se(){let e=document.getElementById("logo-sidebar"),o=document.querySelector(".sidebar-helper-icons"),l=new Set;G({buttonId:"more-options-btn",popupId:"more-options-popup",popupRegistry:l,onOpen:function(){let i=document.getElementById("collapsed-footer-icons");e?.classList.contains("w-16")&&i&&i.classList.remove("hidden")},onClose:function(){let i=document.getElementById("collapsed-footer-icons");i&&i.classList.add("hidden")}}),G({buttonId:"all-tools-btn",popupId:"all-tools-popup",popupRegistry:l});let s=document.getElementById("collapsed-footer-icons"),f=s?.querySelector('[title="Theme"]');if(f&&ae(f),e&&o){new MutationObserver(function(p){p.forEach(function(r){if(r.attributeName==="class"){let c=e.classList.contains("w-16"),m=o.querySelector(".flex > div");m&&(m.style.display=c?"none":"flex"),!c&&s&&s.classList.add("hidden")}})}).observe(e,{attributes:!0});let t=e.classList.contains("w-16"),a=o.querySelector(".flex > div");t&&a&&(a.style.display="none")}}function G(e){let{buttonId:o,popupId:l,popupRegistry:s,onOpen:f,onClose:i}=e,t=document.getElementById(o),a=document.getElementById(l);if(!t||!a)return;function p(){s&&s.forEach(r=>{r.element!==a&&!r.element.classList.contains("hidden")&&(r.element.classList.add("hidden"),r.onClose&&r.onClose())})}s&&s.add({element:a,onClose:i}),t.addEventListener("click",function(r){r.stopPropagation();let c=a.classList.contains("hidden");p(),c?(a.classList.remove("hidden"),f&&f()):(a.classList.add("hidden"),i&&i())}),document.addEventListener("click",function(r){!t.contains(r.target)&&!a.contains(r.target)&&(a.classList.add("hidden"),i&&i())}),a.querySelectorAll("a").forEach(r=>{r.addEventListener("click",function(){a.classList.add("hidden"),i&&i()})}),a.addEventListener("click",function(r){r.stopPropagation()})}function ae(e){let o=document.createElement("div");o.className="absolute bottom-full mb-2 w-32 bg-gray-800 border border-gray-600 rounded shadow-lg z-50 text-white text-sm hidden",o.innerHTML=`
    <ul class="py-1">
      <li class="flex items-center gap-2 px-4 py-2 hover:bg-gray-700 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
        </svg>
        Light
      </li>
      <li class="flex items-center gap-2 px-4 py-2 hover:bg-gray-700 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
        </svg>
        Dark
      </li>
      <li class="flex items-center gap-2 px-4 py-2 hover:bg-gray-700 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25" />
        </svg>
        System
      </li>
    </ul>
  `;let l=document.createElement("div");l.className="relative",e.parentNode.insertBefore(l,e),l.appendChild(e),l.appendChild(o),e.addEventListener("click",function(s){s.stopPropagation(),o.classList.toggle("hidden")}),document.addEventListener("click",function(s){l.contains(s.target)||o.classList.add("hidden")}),o.querySelectorAll("li").forEach(s=>{s.addEventListener("click",function(){o.classList.add("hidden")})})}function re(){let e=document.querySelector("#mobile-sidebar ul:nth-of-type(2) li:nth-child(4) a"),o=document.getElementById("mobile-all-tools-page"),l=document.getElementById("mobile-all-tools-back"),s=document.getElementById("mobile-sidebar-overlay"),f=document.getElementById("mobile-sidebar");e&&o&&(e.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation(),s.classList.add("hidden"),f.classList.add("-translate-x-full"),document.body.classList.remove("overflow-hidden"),o.classList.remove("hidden"),document.body.classList.add("overflow-hidden")}),l?.addEventListener("click",function(i){i.preventDefault(),o.classList.add("hidden"),s.classList.remove("hidden"),f.classList.remove("-translate-x-full"),document.body.classList.add("overflow-hidden")}),o.querySelectorAll("a:not(#mobile-all-tools-back)").forEach(i=>{i.addEventListener("click",function(t){t.preventDefault(),o.classList.add("hidden"),document.body.classList.remove("overflow-hidden")})}))}function ce(){function e(d,n){let u=document.getElementById(d);u&&(n?u.style.backgroundColor="oklch(44.3% 0.11 240.79)":u.style.backgroundColor="")}function o(d,n,u,w,h=!0,S=!0){return function(E){E.addEventListener("change",function(){if(h){let v=new URLSearchParams(window.location.search);S&&v.delete("page"),this.value===n?v.delete(d):v.set(d,this.value);let B=window.location.pathname+"?"+v.toString();window.history.pushState({},"",B),T(v);let q=this.value!==n;e(u,q),s()}let L=document.getElementById(w);L&&L.classList.add("hidden")})}}let l="pixahuntFilters";function s(){let d={"ai-type":document.querySelector('input[name="ai-type"]:checked')?.value||"show_all",license:document.querySelector('input[name="license"]:checked')?.value||"all",orientation:document.querySelector('input[name="orientation"]:checked')?.value||"all",filetype:document.querySelector('input[name="filetype"]:checked')?.value||"all",color:new URLSearchParams(window.location.search).get("color")||"all",people:new URLSearchParams(window.location.search).get("people")||"all"};localStorage.setItem(l,JSON.stringify(d))}function f(){let d=new URLSearchParams(window.location.search),n=d.get("ai-type")||"show_all",u=d.get("license")||"all",w=d.get("orientation")||"all",h=d.get("filetype")||"all",S=d.get("color")||"all",E=d.get("people")||"all",L=document.querySelector(`input[name="ai-type"][value="${n}"]`),v=document.querySelector(`input[name="mobile-ai-type"][value="${n}"]`);L&&(L.checked=!0),v&&(v.checked=!0),e("ai-btn",n!=="show_all"),e("mobile-ai-btn",n!=="show_all");let B=document.querySelector(`input[name="license"][value="${u}"]`),q=document.querySelector(`input[name="mobile-license"][value="${u}"]`);B&&(B.checked=!0),q&&(q.checked=!0),e("license-btn",u!=="all"),e("mobile-license-btn",u!=="all");let C=document.querySelector(`input[name="orientation"][value="${w}"]`),H=document.querySelector(`input[name="mobile-orientation"][value="${w}"]`);C&&(C.checked=!0),H&&(H.checked=!0),e("orientation-btn",w!=="all"),e("mobile-orientation-btn",w!=="all");let U=document.querySelector(`input[name="filetype"][value="${h}"]`),V=document.querySelector(`input[name="mobile-filetype"][value="${h}"]`);U&&(U.checked=!0),V&&(V.checked=!0),e("filetype-btn",h!=="all"),e("mobile-filetype-btn",h!=="all"),e("color-btn",S!=="all"),e("mobile-color-btn",S!=="all"),e("people-btn",E!=="all"),e("mobile-people-btn",E!=="all")}f(),window.addEventListener("resize",M(()=>{f()},250)),document.getElementById("apply-filters-btn")?.addEventListener("click",function(){let d=new URLSearchParams(window.location.search);d.delete("page");let n=document.querySelector("input[name='ai-type']:checked");n?n.value==="show_all"?d.delete("ai-type"):d.set("ai-type",n.value):d.delete("ai-type");let u=window.location.pathname+"?"+d.toString();window.history.pushState({},"",u),T(d)}),window.updateDesktopClearAllVisibility=function(){let d=document.getElementById("clear-desktop-filters");if(!d)return;let n=new URLSearchParams(window.location.search),u=n.has("license")&&n.get("license")!=="all",w=n.has("ai-type")&&n.get("ai-type")!=="show_all",h=n.has("orientation")&&n.get("orientation")!=="all",S=n.has("filetype")&&n.get("filetype")!=="all",E=n.has("color")&&n.get("color")!=="all",L=n.has("people")&&n.get("people")!=="all";u||w||h||S||E||L?d.classList.remove("hidden"):d.classList.add("hidden")};let i=window.updateDesktopClearAllVisibility;i(),document.getElementById("clear-desktop-filters")?.addEventListener("click",function(){let d=document.querySelector("input[name='license'][value='all']"),n=document.querySelector("input[name='ai-type'][value='show_all']"),u=document.querySelector("input[name='orientation'][value='all']"),w=document.querySelector("input[name='filetype'][value='all']");d&&(d.checked=!0),n&&(n.checked=!0),u&&(u.checked=!0),w&&(w.checked=!0);let h=new URLSearchParams(window.location.search);h.delete("license"),h.delete("ai-type"),h.delete("orientation"),h.delete("filetype"),h.delete("color"),h.delete("people"),h.delete("page");let S=window.location.pathname+(h.toString()?"?"+h.toString():"");window.history.pushState({},"",S),T(h),e("license-btn",!1),e("ai-btn",!1),e("orientation-btn",!1),e("filetype-btn",!1),e("color-btn",!1),e("people-btn",!1),e("mobile-license-btn",!1),e("mobile-ai-btn",!1),e("mobile-orientation-btn",!1),e("mobile-filetype-btn",!1),e("mobile-color-btn",!1),e("mobile-people-btn",!1);let E=document.querySelector("input[name='mobile-license'][value='all']"),L=document.querySelector("input[name='mobile-ai-type'][value='show_all']"),v=document.querySelector("input[name='mobile-orientation'][value='all']"),B=document.querySelector("input[name='mobile-filetype'][value='all']");E&&(E.checked=!0),L&&(L.checked=!0),v&&(v.checked=!0),B&&(B.checked=!0),s(),i(),t()}),window.updateClearAllButtonVisibility=function(){let d=document.getElementById("clear-mobile-filters");if(!d)return;let n=new URLSearchParams(window.location.search),u=n.has("license")&&n.get("license")!=="all",w=n.has("ai-type")&&n.get("ai-type")!=="show_all",h=n.has("orientation")&&n.get("orientation")!=="all",S=n.has("filetype")&&n.get("filetype")!=="all",E=n.has("color")&&n.get("color")!=="all",L=n.has("people")&&n.get("people")!=="all",v=document.querySelector("input[name='mobile-license']:checked")?.value,B=document.querySelector("input[name='mobile-ai-type']:checked")?.value,q=document.querySelector("input[name='mobile-orientation']:checked")?.value,C=document.querySelector("input[name='mobile-filetype']:checked")?.value;u||w||h||S||E||L||(v&&v!=="all"||B&&B!=="show_all"||q&&q!=="all"||C&&C!=="all")?d.classList.remove("hidden"):d.classList.add("hidden")};let t=window.updateClearAllButtonVisibility;t(),document.querySelectorAll("input[name='mobile-license'], input[name='mobile-ai-type'], input[name='mobile-orientation'], input[name='mobile-filetype']").forEach(d=>{d.addEventListener("change",t)}),document.getElementById("mobile-filters-btn")?.addEventListener("click",t),document.getElementById("clear-mobile-filters")?.addEventListener("click",function(){let d=document.querySelector("input[name='mobile-license'][value='all']"),n=document.querySelector("input[name='mobile-ai-type'][value='show_all']"),u=document.querySelector("input[name='mobile-orientation'][value='all']"),w=document.querySelector("input[name='mobile-filetype'][value='all']");d&&(d.checked=!0),n&&(n.checked=!0),u&&(u.checked=!0),w&&(w.checked=!0);let h=new URLSearchParams(window.location.search);h.delete("license"),h.delete("ai-type"),h.delete("orientation"),h.delete("filetype"),h.delete("color"),h.delete("people"),h.delete("page");let S=window.location.pathname+(h.toString()?"?"+h.toString():"");window.history.pushState({},"",S),T(h),e("mobile-license-btn",!1),e("mobile-ai-btn",!1),e("mobile-orientation-btn",!1),e("mobile-filetype-btn",!1),e("mobile-color-btn",!1),e("mobile-people-btn",!1),e("license-btn",!1),e("ai-btn",!1),e("orientation-btn",!1),e("filetype-btn",!1),e("color-btn",!1),e("people-btn",!1);let E=document.querySelector("input[name='license'][value='all']"),L=document.querySelector("input[name='ai-type'][value='show_all']"),v=document.querySelector("input[name='orientation'][value='all']"),B=document.querySelector("input[name='filetype'][value='all']");E&&(E.checked=!0),L&&(L.checked=!0),v&&(v.checked=!0),B&&(B.checked=!0),s(),t();let q=document.getElementById("mobile-filter-overlay"),C=document.getElementById("mobile-header-dim");q&&(q.classList.add("hidden"),C?.classList.add("hidden"),document.body.style.overflow="")}),document.getElementById("apply-mobile-filters")?.addEventListener("click",function(){let d=new URLSearchParams(window.location.search);d.delete("page");let n=document.querySelector("input[name='mobile-license']:checked")?.value||"all",u=document.querySelector("input[name='mobile-ai-type']:checked")?.value||"show_all",w=document.querySelector("input[name='mobile-orientation']:checked")?.value||"all",h=document.querySelector("input[name='mobile-filetype']:checked")?.value||"all",S=d.get("color")||"all",E=d.get("people")||"all";d.delete("license"),d.delete("ai-type"),d.delete("orientation"),d.delete("filetype"),d.delete("color"),d.delete("people"),n!=="all"&&d.set("license",n),u!=="show_all"&&d.set("ai-type",u),w!=="all"&&d.set("orientation",w),h!=="all"&&d.set("filetype",h),S!=="all"&&d.set("color",S),E!=="all"&&d.set("people",E);let L=window.location.pathname+"?"+d.toString();window.history.pushState({},"",L),T(d),e("mobile-license-btn",n!=="all"),e("mobile-ai-btn",u!=="show_all"),e("mobile-orientation-btn",w!=="all"),e("mobile-filetype-btn",h!=="all"),e("mobile-color-btn",S!=="all"),e("mobile-people-btn",E!=="all"),s();let v=document.getElementById("mobile-filter-overlay"),B=document.getElementById("mobile-header-dim");v&&(v.classList.add("hidden"),B?.classList.add("hidden"),document.body.style.overflow="")}),document.querySelectorAll('input[name="ai-type"]').forEach(o("ai-type","show_all","ai-btn","ai-popup",!0,!1)),document.querySelectorAll('input[name="mobile-ai-type"]').forEach(o("ai-type","show_all","ai-btn","mobile-ai-popup",!1,!1)),document.querySelectorAll('input[name="filetype"]').forEach(o("filetype","all","filetype-btn","filetype-popup",!0,!0)),document.querySelectorAll('input[name="mobile-filetype"]').forEach(o("filetype","all","filetype-btn","mobile-filetype-popup",!1,!1)),document.querySelectorAll('input[name="orientation"]').forEach(o("orientation","all","orientation-btn","orientation-popup",!0,!0)),document.querySelectorAll('input[name="mobile-orientation"]').forEach(o("orientation","all","orientation-btn","mobile-orientation-popup",!1,!1)),document.querySelectorAll('input[name="license"]').forEach(o("license","all","license-btn","license-popup",!0,!0)),document.querySelectorAll('input[name="mobile-license"]').forEach(o("license","all","license-btn","mobile-license-popup",!1,!1)),document.querySelectorAll("[data-color]").forEach(d=>{d.addEventListener("click",function(){let n=new URLSearchParams(window.location.search),u=this.getAttribute("data-color"),w=document.getElementById("mobile-filter-overlay");if(w&&!w.classList.contains("hidden")){n.delete("page"),u==="all"?n.delete("color"):n.set("color",u);let L=window.location.pathname+"?"+n.toString();window.history.replaceState({},"",L)}else{n.delete("page"),u==="all"?n.delete("color"):n.set("color",u);let L=window.location.pathname+"?"+n.toString();window.history.pushState({},"",L),T(n);let v=u!=="all";e("color-btn",v),e("mobile-color-btn",v),s()}let S=document.getElementById("color-popup");S&&S.classList.add("hidden");let E=document.getElementById("mobile-color-popup");E&&E.classList.add("hidden")})}),document.querySelectorAll("[data-people]").forEach(d=>{d.addEventListener("click",function(){let n=new URLSearchParams(window.location.search),u=this.getAttribute("data-people"),w=document.getElementById("mobile-filter-overlay");if(w&&!w.classList.contains("hidden")){n.delete("page"),u==="all"?n.delete("people"):n.set("people",u);let L=window.location.pathname+"?"+n.toString();window.history.replaceState({},"",L)}else{n.delete("page"),u==="all"?n.delete("people"):n.set("people",u);let L=window.location.pathname+"?"+n.toString();window.history.pushState({},"",L),T(n);let v=u!=="all";e("people-btn",v),e("mobile-people-btn",v),s()}let S=document.getElementById("people-popup");S&&S.classList.add("hidden");let E=document.getElementById("mobile-people-popup");E&&E.classList.add("hidden")})});let a=document.getElementById("prev-page-btn"),p=document.getElementById("next-page-btn"),r=document.querySelector('.pagination-controls input[type="text"]'),c=new URLSearchParams(window.location.search),m=parseInt(c.get("page"),10)||1,I=(r?.parentElement?.textContent||"").match(/of\s+(\d+)/),y=I?parseInt(I[1],10):1;r&&!r.value&&(r.value=m),a&&a.addEventListener("click",()=>{if(a.disabled)return;let n=(parseInt(c.get("page"),10)||parseInt(r?.value,10)||1)-1;if(n<1)return;let u=new URL(window.location.href);u.searchParams.set("page",n),window.location.href=u.toString()}),p&&p.addEventListener("click",()=>{if(p.disabled)return;let n=(parseInt(c.get("page"),10)||parseInt(r?.value,10)||1)+1;if(n>y)return;let u=new URL(window.location.href);u.searchParams.set("page",n),window.location.href=u.toString()}),r&&r.addEventListener("change",d=>{let n=parseInt(d.target.value,10)||1;n<1?n=1:n>y&&(n=y),d.target.value=n;let u=new URL(window.location.href);u.searchParams.set("page",n),window.location.href=u.toString()});let x=document.getElementById("mobile-prev-page-btn"),k=document.getElementById("mobile-next-page-btn"),P=document.getElementById("mobile-page-input"),N=document.getElementById("mobile-total-pages"),D=N?parseInt(N.textContent,10):y;x&&x.addEventListener("click",()=>{if(x.disabled)return;let n=(parseInt(c.get("page"),10)||parseInt(P?.value,10)||1)-1;if(n<1)return;let u=new URL(window.location.href);u.searchParams.set("page",n),window.location.href=u.toString()}),k&&k.addEventListener("click",()=>{if(k.disabled)return;let n=(parseInt(c.get("page"),10)||parseInt(P?.value,10)||1)+1;if(n>D)return;let u=new URL(window.location.href);u.searchParams.set("page",n),window.location.href=u.toString()}),P&&P.addEventListener("change",d=>{let n=parseInt(d.target.value,10)||1;n<1?n=1:n>D&&(n=D),d.target.value=n;let u=new URL(window.location.href);u.searchParams.set("page",n),window.location.href=u.toString()})}function de(e,o,l){let s=document.getElementById("prev-page-btn"),f=document.getElementById("next-page-btn"),i=document.querySelector('.pagination-controls input[type="text"]'),t=i?.parentElement,a=document.getElementById("mobile-prev-page-btn"),p=document.getElementById("mobile-next-page-btn"),r=document.getElementById("mobile-page-input"),c=document.getElementById("mobile-total-pages");if(i&&(i.value=e),t){t.innerHTML=`Page <input type="text" class="rounded bg-gray-600 w-12 px-2 py-1 text-center" value="${e}"> of ${o}`;let y=t.querySelector('input[type="text"]');y&&y.addEventListener("change",x=>{let k=parseInt(x.target.value,10)||1;k<1?k=1:k>o&&(k=o),x.target.value=k;let P=new URL(window.location.href);P.searchParams.set("page",k),window.location.href=P.toString()})}r&&(r.value=e),c&&(c.textContent=o);function m(y,x){y&&(x?(y.disabled=!0,y.classList.remove("bg-white","text-gray-800","hover:bg-gray-100"),y.classList.add("bg-gray-600","text-gray-400","cursor-not-allowed")):(y.disabled=!1,y.classList.add("bg-white","text-gray-800","hover:bg-gray-100"),y.classList.remove("bg-gray-600","text-gray-400","cursor-not-allowed")))}let b=e<=1;m(s,b),m(a,b);let I=e>=o||o<=1;m(f,I),m(p,I)}function T(e){e.has("page")||e.delete("page");let o=document.getElementById("image-gallery"),l=document.querySelector(".tag p");if(o&&(requestAnimationFrame(()=>{let t=Array(12).fill(0).map((a,p)=>{let r=["h-48","h-64","h-56","h-72","h-52","h-60"];return`
          <div class="skeleton-card mb-4">
            <div class="bg-gray-700 rounded-lg ${r[p%r.length]} w-full relative overflow-hidden animate-pulse">
              <div class="absolute inset-0 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 skeleton-shimmer"></div>
            </div>
          </div>
        `}).join("");requestAnimationFrame(()=>{o.innerHTML=t})}),!document.getElementById("skeleton-style"))){let t=document.createElement("style");t.id="skeleton-style",t.textContent=`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .skeleton-shimmer {
          animation: shimmer 1.5s infinite;
        }
      `,document.head.appendChild(t)}l&&(l.innerHTML=`
      <span class="inline-block h-5 w-24 bg-gray-700 rounded relative overflow-hidden align-middle">
        <span class="absolute inset-0 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 skeleton-shimmer"></span>
      </span>
    `);let s="&_t="+new Date().getTime(),i=(window.API_URL||"api.php")+"?"+e.toString()+s;fetch(i).then(t=>{if(!t.ok)throw new Error("Network response was not ok: "+t.status);return t.text()}).then(t=>{try{return JSON.parse(t)}catch{throw new Error("Invalid JSON response: "+t.substring(0,200))}}).then(t=>{if(t.error){console.error("Server error:",t.error),o&&(o.innerHTML='<div class="w-full text-center text-white py-20 text-lg col-span-full">Server error: '+z(t.error)+"</div>");return}o&&(o.innerHTML=t.html,setTimeout(()=>{X()},50)),l&&(l.textContent=t.total+" results",l.classList.remove("animate-fade-slide"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{l.classList.add("animate-fade-slide")})})),de(t.page||1,t.totalPages||1,t.total||0),typeof window.updateDesktopClearAllVisibility=="function"&&window.updateDesktopClearAllVisibility(),typeof window.updateClearAllButtonVisibility=="function"&&window.updateClearAllButtonVisibility(),typeof W=="function"&&W()}).catch(t=>{console.error("Error loading images:",t),o&&(o.innerHTML='<div class="w-full text-center text-white py-20 text-lg col-span-full">Error: '+z(t.message)+"</div>")})}})();
//# sourceMappingURL=script.min.js.map
