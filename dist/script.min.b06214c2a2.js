(()=>{var j={MOBILE:640,TABLET:768,DESKTOP:1280};var _=window.ENVIRONMENT||"production";window.addEventListener("error",function(e){return console.error("Global error:",e.error),_==="development"&&console.error("Error details:",{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error}),!1});window.addEventListener("unhandledrejection",function(e){console.error("Unhandled promise rejection:",e.reason),_==="development"&&console.error("Rejection details:",e.reason)});function F(e){return function(...n){try{return e.apply(this,n)}catch(l){console.error("Error in event handler:",l),_==="development"&&console.error("Handler error details:",{error:l.message,stack:l.stack,args:n})}}}function z(e){let n=document.createElement("div");return n.textContent=e,n.innerHTML}function M(e,n){let l;return function(...f){let i=()=>{clearTimeout(l),e(...f)};clearTimeout(l),l=setTimeout(i,n)}}var h={sidebar:null,sidebarTexts:null,sidebarMenuLinks:null,sidebarMenuSvgs:null,sidebarLogoImg:null,sidebarSignin:null,sidebarHelperIcons:null,imageGallery:null,tagsContainer:null};function J(){h.sidebar=document.getElementById("logo-sidebar"),h.sidebarTexts=document.querySelectorAll(".sidebar-text"),h.sidebarMenuLinks=document.querySelectorAll("#logo-sidebar .sidebar-menu a"),h.sidebarMenuSvgs=document.querySelectorAll("#logo-sidebar .sidebar-menu svg"),h.sidebarLogoImg=document.getElementById("sidebar-logo-img"),h.sidebarSignin=document.querySelector(".sidebar-signin"),h.sidebarHelperIcons=document.querySelector(".sidebar-helper-icons .flex"),h.imageGallery=document.getElementById("image-gallery"),h.tagsContainer=document.getElementById("tags-container")}document.addEventListener("DOMContentLoaded",function(){J(),Z(),Y(),ee(),te(),oe(),ne(),ie(),le(),ae(),re(),K()});function K(){function e(i){if(!i.dataset.src)return;let t=i.dataset.src;i.src=t,i.removeAttribute("data-src"),i.classList.add("loaded")}function n(i){if(!i.dataset.src||i.src&&i.src!==i.dataset.src&&!i.src.includes("data:image/svg"))return;let t=new Image;t.onload=function(){i.src=i.dataset.src,i.classList.remove("loading"),i.classList.add("loaded"),i.removeAttribute("data-src")},t.onerror=function(){console.error("Failed to load image:",i.dataset.src),i.classList.add("error"),i.classList.remove("loading")},i.classList.add("loading"),t.src=i.dataset.src}function l(i){let t=i.getBoundingClientRect();return t.top<window.innerHeight+200&&t.bottom>-200&&t.left<window.innerWidth+200&&t.right>-200}function s(){document.querySelectorAll("img[data-src]").forEach(i=>{l(i)&&e(i)})}if(s(),setTimeout(()=>{let i=document.querySelectorAll("img[data-src]");i.length>0&&i.forEach(t=>{e(t)})},500),!("IntersectionObserver"in window)){setTimeout(()=>{document.querySelectorAll("img[data-src]").forEach(i=>{e(i)})},100);return}let f=new IntersectionObserver((i,t)=>{i.forEach(r=>{if(r.isIntersecting){let p=r.target;p.dataset.src&&(e(p),t.unobserve(p))}})},{rootMargin:"200px",threshold:.01});window.imageObserver=f,document.querySelectorAll("img[data-src]").forEach(i=>{f.observe(i),i.classList.add("observed")}),setTimeout(s,100)}function X(){function e(l){let s=l.getBoundingClientRect();return s.top<window.innerHeight+200&&s.bottom>-200&&s.left<window.innerWidth+200&&s.right>-200}function n(l){if(!l.dataset.src)return;let s=l.dataset.src;l.src=s,l.removeAttribute("data-src"),l.classList.add("loaded")}if(!window.imageObserver){document.querySelectorAll("img[data-src]").forEach(l=>{n(l)});return}document.querySelectorAll("img[data-src]").forEach(l=>{l.classList.contains("observed")||(e(l)?n(l):(window.imageObserver.observe(l),l.classList.add("observed")))})}function Z(){let e=h.sidebar||document.getElementById("logo-sidebar"),n=document.getElementById("sidebar-collapse-btn"),l=document.querySelector(".ml-64"),s=document.querySelector(".sidebar-logo"),f=document.querySelector(".sidebar-divider"),i=document.querySelector("header img"),t=localStorage.getItem("sidebarCollapsed")==="true";function r(){let c=window.innerWidth;c<j.DESKTOP?n&&(n.style.display="none"):c>=j.DESKTOP&&(n&&(n.style.display="block"),t?p():a())}function p(){i&&i.classList.remove("hidden"),e.classList.remove("w-64"),e.classList.add("w-16"),l.classList.remove("ml-64"),l.classList.add("ml-16"),s.classList.remove("justify-between"),s.classList.add("justify-center"),h.sidebarTexts&&h.sidebarTexts.forEach(I=>{I.classList.add("hidden")}),h.sidebarLogoImg&&h.sidebarLogoImg.classList.add("hidden"),f.classList.remove("mx"),f.classList.add("mx-2"),h.sidebarSignin&&h.sidebarSignin.classList.add("hidden"),h.sidebarMenuLinks&&h.sidebarMenuLinks.forEach(I=>{I.classList.remove("p-2"),I.classList.add("p-1","justify-center")}),h.sidebarMenuSvgs&&h.sidebarMenuSvgs.forEach(I=>{I.classList.add("m-1")});let c=document.querySelector(".sidebar-helper-icons .flex");c.classList.remove("justify-between"),c.classList.add("flex-col","gap-2","items-center"),c.children[0].children[1].classList.add("hidden"),n.querySelector("svg").classList.add("-rotate-90"),document.querySelector(".sidebar-helper-icons .flex").classList.remove("justify-between"),document.querySelector(".sidebar-helper-icons .flex").classList.add("justify-center"),document.querySelector(".sidebar-helper-icons .flex > div").classList.remove("flex","gap-4"),document.querySelector(".sidebar-helper-icons .flex > div").classList.add("flex-col","gap-2"),document.querySelector(".sidebar-helper-icons .flex > div").children[1].classList.add("hidden")}function a(){let c=document.getElementById("sidebar-fouc-style");c&&c.remove(),i&&i.classList.add("hidden"),e.classList.remove("w-16"),e.classList.add("w-64"),l.classList.remove("ml-16"),l.classList.add("ml-64"),s.classList.add("justify-between"),s.classList.remove("justify-center"),setTimeout(()=>{h.sidebarTexts&&h.sidebarTexts.forEach(y=>{y.classList.remove("hidden")}),h.sidebarLogoImg&&h.sidebarLogoImg.classList.remove("hidden"),h.sidebarSignin&&h.sidebarSignin.classList.remove("hidden")},150),f.classList.add("mx"),f.classList.remove("mx-2"),h.sidebarMenuLinks&&h.sidebarMenuLinks.forEach(y=>{y.classList.add("p-2"),y.classList.remove("p-1","justify-center")}),h.sidebarMenuSvgs&&h.sidebarMenuSvgs.forEach(y=>{y.classList.remove("m-1")});let m=document.querySelector(".sidebar-helper-icons .flex");m.classList.add("justify-between"),m.classList.remove("flex-col","gap-2","items-center"),m.children[0].children[1].classList.remove("hidden"),n.querySelector("svg").classList.remove("-rotate-90"),document.querySelector(".sidebar-helper-icons .flex").classList.add("justify-between"),document.querySelector(".sidebar-helper-icons .flex").classList.remove("justify-center"),document.querySelector(".sidebar-helper-icons .flex > div").classList.add("flex","gap-4"),document.querySelector(".sidebar-helper-icons .flex > div").classList.remove("flex-col","gap-2"),document.querySelector(".sidebar-helper-icons .flex > div").children[1].classList.remove("hidden")}window.addEventListener("resize",M(r,250)),r(),n?.addEventListener("click",function(){t=!t,localStorage.setItem("sidebarCollapsed",t),t?p():a()})}function Y(){let e=document.querySelector('input[type="search"]'),n=document.querySelector(".absolute.right-20");if(e&&n){let s=function(){e.value.trim()!==""?n.classList.remove("hidden"):n.classList.add("hidden")};var l=s;e.addEventListener("input",s),n.addEventListener("click",function(){e.value="",s(),e.focus()}),s()}}document.addEventListener("click",function(e){document.querySelectorAll("details").forEach(l=>{l.open&&!l.contains(e.target)&&(l.open=!1)})});var R=document.querySelector(".chevron"),Q=R?.closest("button"),A=document.getElementById("filters-section"),O=localStorage.getItem("filterDropdownOpen")==="true";function N(){return window.innerWidth>=j.MOBILE}if(R&&A&&N()){O?(R.innerHTML='<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />',A.style.display="flex"):(R.innerHTML='<path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />',A.style.display="none");let e=document.getElementById("filter-fouc-style");e&&e.remove()}Q?.addEventListener("click",()=>{let e=document.getElementById("filter-fouc-style");e&&e.remove(),R.innerHTML=O?'<path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />':'<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />',O=!O,localStorage.setItem("filterDropdownOpen",O),A&&(A.style.display=A.style.display==="none"?"flex":"none")});window.addEventListener("resize",M(()=>{A&&(N()?A.style.display=O?"flex":"none":A.style.display="none")},250));function ee(){let e=[{btn:"license-btn",popup:"license-popup",chevron:"license-chevron"},{btn:"ai-btn",popup:"ai-popup",chevron:"ai-chevron"},{btn:"orientation-btn",popup:"orientation-popup",chevron:"orientation-chevron"},{btn:"color-btn",popup:"color-popup",chevron:"color-chevron"},{btn:"people-btn",popup:"people-popup",chevron:"people-chevron"},{btn:"filetype-btn",popup:"filetype-popup",chevron:"filetype-chevron"}];function n(t,r){let p=t.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft;r.style.left=p.left+a+"px",r.style.top=p.bottom+8+"px"}function l(t=null){e.forEach(a=>{let c=document.getElementById(a.popup),m=document.getElementById(a.chevron);c&&c!==t&&(c.classList.add("hidden"),c.style.display=""),m&&m!==t?.previousElementSibling?.querySelector("svg")&&m.classList.remove("rotate-180")});let r=document.getElementById("relevance-popup"),p=document.getElementById("relevance-chevron");r&&r!==t&&r.classList.add("hidden"),p&&p.classList.remove("rotate-180")}e.forEach(t=>{let r=document.getElementById(t.btn),p=document.getElementById(t.popup),a=document.getElementById(t.chevron);r&&p&&(r.addEventListener("click",c=>{c.stopPropagation(),p.classList.contains("hidden")?(N()&&l(p),n(r,p),p.classList.remove("hidden"),a&&a.classList.add("rotate-180")):(p.classList.add("hidden"),a&&a.classList.remove("rotate-180"))}),p.addEventListener("click",c=>c.stopPropagation()))});let s=document.getElementById("relevance-chevron"),f=document.getElementById("relevance-popup"),i=s?.closest("button");i&&f&&(i.addEventListener("click",t=>{t.stopPropagation(),f.classList.contains("hidden")?(l(f),f.classList.remove("hidden"),s.classList.add("rotate-180")):(f.classList.add("hidden"),s.classList.remove("rotate-180"))}),f.addEventListener("click",t=>t.stopPropagation())),document.addEventListener("click",t=>{let r=t.target.closest('[id$="-btn"], [id$="-chevron"], [id$="-popup"]'),p=t.target.closest("#relevance-chevron, #relevance-popup")||t.target.closest("li:has(#relevance-chevron)");!r&&!p&&l()}),window.addEventListener("scroll",()=>{e.forEach(t=>{let r=document.getElementById(t.btn),p=document.getElementById(t.popup);r&&p&&!p.classList.contains("hidden")&&n(r,p)})}),window.addEventListener("resize",M(()=>{e.forEach(t=>{let r=document.getElementById(t.btn),p=document.getElementById(t.popup);r&&p&&!p.classList.contains("hidden")&&n(r,p)})},250)),e.forEach(t=>{let r=document.getElementById(t.popup);r&&(r.classList.add("hidden"),r.style.display="")}),f&&f.classList.add("hidden")}document.querySelectorAll(".people-count-btn").forEach(e=>{e.addEventListener("click",function(){document.querySelectorAll(".people-count-btn").forEach(n=>n.classList.remove("bg-green-600")),this.classList.add("bg-green-600")})});function te(){let e=document.getElementById("mobile-sidebar-overlay"),n=document.getElementById("mobile-sidebar"),l=document.getElementById("mobile-menu-btn"),s=document.getElementById("mobile-sidebar-close");l?.addEventListener("click",function(){e.classList.remove("hidden"),n.classList.remove("-translate-x-full"),document.body.classList.add("overflow-hidden")}),s?.addEventListener("click",function(){e.classList.add("hidden"),n.classList.add("-translate-x-full"),document.body.classList.remove("overflow-hidden")}),e?.addEventListener("click",function(f){f.target===e&&(e.classList.add("hidden"),n.classList.add("-translate-x-full"),document.body.classList.remove("overflow-hidden"))})}function oe(){let e=document.getElementById("mobile-filters-btn"),n=document.getElementById("mobile-filter-overlay"),l=document.getElementById("close-filter-overlay"),s=document.getElementById("mobile-header-dim"),f=document.getElementById("mobile-all-images-btn"),i=document.getElementById("mobile-all-images-dropdown"),t=document.getElementById("mobile-all-images-text"),r=document.getElementById("mobile-all-images-chevron");e?.addEventListener("click",c=>{c.stopPropagation(),i&&(i.classList.add("hidden"),r?.classList.remove("rotate-180")),n&&(n.classList.remove("hidden"),s?.classList.remove("hidden"),document.body.style.overflow="hidden")}),l?.addEventListener("click",()=>{n&&(n.classList.add("hidden"),s?.classList.add("hidden"),document.body.style.overflow="")}),f?.addEventListener("click",c=>{c.stopPropagation(),i?.classList.contains("hidden")?(i?.classList.remove("hidden"),r?.classList.add("rotate-180")):(i?.classList.add("hidden"),r?.classList.remove("rotate-180"))});let p=document.querySelectorAll(".mobile-category-option");document.querySelectorAll('input[name="mobile-category"]').forEach(c=>{c.addEventListener("change",function(){let m=this.closest(".mobile-category-option"),b=m?.querySelector("span")?.textContent.trim();t&&b&&(t.textContent=b),p.forEach(I=>{I.classList.remove("text-white"),I.classList.add("text-gray-400")}),m&&(m.classList.add("text-white"),m.classList.remove("text-gray-400")),i?.classList.add("hidden"),r?.classList.remove("rotate-180")})}),document.addEventListener("click",c=>{!c.target.closest("#mobile-all-images-btn")&&!c.target.closest("#mobile-all-images-dropdown")&&(i?.classList.add("hidden"),r?.classList.remove("rotate-180"))})}function ne(){[{btn:"mobile-license-btn",popup:"mobile-license-popup"},{btn:"mobile-ai-btn",popup:"mobile-ai-popup"},{btn:"mobile-orientation-btn",popup:"mobile-orientation-popup"},{btn:"mobile-color-btn",popup:"mobile-color-popup"},{btn:"mobile-people-btn",popup:"mobile-people-popup"},{btn:"mobile-filetype-btn",popup:"mobile-filetype-popup"}].forEach(n=>{let l=document.getElementById(n.btn),s=document.getElementById(n.popup);l&&s&&(l.addEventListener("click",f=>{f.stopPropagation(),s.classList.contains("hidden")?s.classList.remove("hidden"):s.classList.add("hidden")}),s.addEventListener("click",f=>f.stopPropagation()))})}function W(){let e={download:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
    </svg>`,edit:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" />
    </svg>`,save:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
    </svg>`,search:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
      <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607Z" />
    </svg>`};function n(){return`
      <div class="overlay absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 rounded-lg"></div>
      <div class="action-buttons absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex gap-2">
        <button title="Download" class="download-btn p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700 transition" data-action="download">
          ${e.download}
        </button>
        <button title="Edit with AI" class="edit-btn p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700 transition" data-action="edit">
          ${e.edit}
        </button>
        <button title="Save to collection" class="save-btn p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700 transition" data-action="save">
          ${e.save}
        </button>
      </div>
      <div class="discover-section absolute bottom-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
        <button class="discover-btn flex items-center gap-2 text-white bg-gray-800 bg-opacity-70 rounded-full px-3 py-1 text-sm hover:bg-opacity-90 transition" data-action="discover">
          ${e.search}
          Discover similar
        </button>
      </div>
    `}function l(a){try{let m=document.querySelector(`[data-image="${a}"]`)?.querySelector("img");if(m&&m.src){let b=document.createElement("a");b.href=m.src,b.download=m.alt||`image-${a}`,b.target="_blank",document.body.appendChild(b),b.click(),document.body.removeChild(b),t("Download started","success")}else t("Image not found","error")}catch(c){console.error("Error downloading image:",c),t("Failed to download image","error")}}function s(a){try{let m=document.querySelector(`[data-image="${a}"]`)?.querySelector("img");m&&m.src?(window.open(m.src,"_blank"),t("Opening image editor...","info")):t("Image not found","error")}catch(c){console.error("Error opening image editor:",c),t("Failed to open image editor","error")}}function f(a){try{let c=JSON.parse(localStorage.getItem("imageCollections")||"[]");return c.includes(a)?!1:(c.push(a),localStorage.setItem("imageCollections",JSON.stringify(c)),!0)}catch(c){return console.error("Error saving to collection:",c),!1}}function i(a){try{let m=document.querySelector(`[data-image="${a}"]`)?.querySelector("img");if(m&&m.alt){let b=document.querySelector('input[type="search"]');if(b){b.value=m.alt,b.dispatchEvent(new Event("input",{bubbles:!0}));let I=b.closest("form")||document.querySelector("form");I&&I.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}t("Searching for similar images...","info")}else t("Image information not available","error")}catch(c){console.error("Error finding similar images:",c),t("Failed to find similar images","error")}}function t(a,c="info"){try{let m=document.createElement("div");m.className="fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg transition-all duration-300 transform translate-x-full";let b={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white",warning:"bg-yellow-600 text-white"};m.className+=" "+(b[c]||b.info),m.textContent=a,document.body.appendChild(m),requestAnimationFrame(()=>{m.classList.remove("translate-x-full")}),setTimeout(()=>{m.classList.add("translate-x-full"),setTimeout(()=>{m.parentNode&&m.parentNode.removeChild(m)},300)},3e3)}catch(m){console.error("Error showing notification:",m),console.log(`[${c.toUpperCase()}] ${a}`)}}function r(a,c,m){try{switch(a){case"download":l(c);break;case"edit":s(c);break;case"save":f(c)?t("Image saved to collection!","success"):t("Image already in collection","info");break;case"discover":i(c);break;default:console.warn("Unknown image action:",a)}}catch(b){console.error("Error handling image action:",b),t("An error occurred. Please try again.","error")}}document.querySelectorAll(".image-card").forEach(a=>{a.innerHTML+=n();let c=a.querySelector(".download-btn"),m=a.querySelector(".edit-btn"),b=a.querySelector(".save-btn"),I=a.querySelector(".discover-btn"),y=a.dataset.image,B=a.querySelector("img").alt;c?.addEventListener("click",F(k=>{k.preventDefault(),r("download",y,B)})),m?.addEventListener("click",F(k=>{k.preventDefault(),r("edit",y,B)})),b?.addEventListener("click",F(k=>{k.preventDefault(),r("save",y,B)})),I?.addEventListener("click",F(k=>{k.preventDefault(),r("discover",y,B)}))})}function ie(){let e=document.querySelector('input[type="search"]'),n=document.querySelectorAll(".overflow-x-auto ul li"),l=document.getElementById("tags-container"),s=document.getElementById("tags-scroll-left"),f=document.getElementById("tags-scroll-right");if(n.forEach(t=>{t.addEventListener("click",function(){let r=this.textContent.trim();e&&(e.value=r),window.scrollTo({top:0,behavior:"smooth"}),n.forEach(p=>p.classList.remove("bg-gray-600")),this.classList.add("bg-gray-600")})}),l&&s&&f){let r=function(){let{scrollLeft:p,scrollWidth:a,clientWidth:c}=l;p>0?s.classList.remove("hidden"):s.classList.add("hidden"),p+c<a-10?f.classList.remove("hidden"):f.classList.add("hidden")};var i=r;s.addEventListener("click",()=>{l.scrollBy({left:-300,behavior:"smooth"})}),f.addEventListener("click",()=>{l.scrollBy({left:300,behavior:"smooth"})}),l.addEventListener("scroll",r),r(),window.addEventListener("resize",M(r,250))}}function le(){let e=document.getElementById("logo-sidebar"),n=document.querySelector(".sidebar-helper-icons"),l=new Set;G({buttonId:"more-options-btn",popupId:"more-options-popup",popupRegistry:l,onOpen:function(){let i=document.getElementById("collapsed-footer-icons");e?.classList.contains("w-16")&&i&&i.classList.remove("hidden")},onClose:function(){let i=document.getElementById("collapsed-footer-icons");i&&i.classList.add("hidden")}}),G({buttonId:"all-tools-btn",popupId:"all-tools-popup",popupRegistry:l});let s=document.getElementById("collapsed-footer-icons"),f=s?.querySelector('[title="Theme"]');if(f&&se(f),e&&n){new MutationObserver(function(p){p.forEach(function(a){if(a.attributeName==="class"){let c=e.classList.contains("w-16"),m=n.querySelector(".flex > div");m&&(m.style.display=c?"none":"flex"),!c&&s&&s.classList.add("hidden")}})}).observe(e,{attributes:!0});let t=e.classList.contains("w-16"),r=n.querySelector(".flex > div");t&&r&&(r.style.display="none")}}function G(e){let{buttonId:n,popupId:l,popupRegistry:s,onOpen:f,onClose:i}=e,t=document.getElementById(n),r=document.getElementById(l);if(!t||!r)return;function p(){s&&s.forEach(a=>{a.element!==r&&!a.element.classList.contains("hidden")&&(a.element.classList.add("hidden"),a.onClose&&a.onClose())})}s&&s.add({element:r,onClose:i}),t.addEventListener("click",function(a){a.stopPropagation();let c=r.classList.contains("hidden");p(),c?(r.classList.remove("hidden"),f&&f()):(r.classList.add("hidden"),i&&i())}),document.addEventListener("click",function(a){!t.contains(a.target)&&!r.contains(a.target)&&(r.classList.add("hidden"),i&&i())}),r.querySelectorAll("a").forEach(a=>{a.addEventListener("click",function(){r.classList.add("hidden"),i&&i()})}),r.addEventListener("click",function(a){a.stopPropagation()})}function se(e){let n=document.createElement("div");n.className="absolute bottom-full mb-2 w-32 bg-gray-800 border border-gray-600 rounded shadow-lg z-50 text-white text-sm hidden",n.innerHTML=`
    <ul class="py-1">
      <li class="flex items-center gap-2 px-4 py-2 hover:bg-gray-700 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
        </svg>
        Light
      </li>
      <li class="flex items-center gap-2 px-4 py-2 hover:bg-gray-700 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
        </svg>
        Dark
      </li>
      <li class="flex items-center gap-2 px-4 py-2 hover:bg-gray-700 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25" />
        </svg>
        System
      </li>
    </ul>
  `;let l=document.createElement("div");l.className="relative",e.parentNode.insertBefore(l,e),l.appendChild(e),l.appendChild(n),e.addEventListener("click",function(s){s.stopPropagation(),n.classList.toggle("hidden")}),document.addEventListener("click",function(s){l.contains(s.target)||n.classList.add("hidden")}),n.querySelectorAll("li").forEach(s=>{s.addEventListener("click",function(){n.classList.add("hidden")})})}function ae(){let e=document.querySelector("#mobile-sidebar ul:nth-of-type(2) li:nth-child(4) a"),n=document.getElementById("mobile-all-tools-page"),l=document.getElementById("mobile-all-tools-back"),s=document.getElementById("mobile-sidebar-overlay"),f=document.getElementById("mobile-sidebar");e&&n&&(e.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation(),s.classList.add("hidden"),f.classList.add("-translate-x-full"),document.body.classList.remove("overflow-hidden"),n.classList.remove("hidden"),document.body.classList.add("overflow-hidden")}),l?.addEventListener("click",function(i){i.preventDefault(),n.classList.add("hidden"),s.classList.remove("hidden"),f.classList.remove("-translate-x-full"),document.body.classList.add("overflow-hidden")}),n.querySelectorAll("a:not(#mobile-all-tools-back)").forEach(i=>{i.addEventListener("click",function(t){t.preventDefault(),n.classList.add("hidden"),document.body.classList.remove("overflow-hidden")})}))}function re(){function e(d,o){let u=document.getElementById(d);u&&(o?u.style.backgroundColor="oklch(44.3% 0.11 240.79)":u.style.backgroundColor="")}function n(d,o,u,w,g=!0,S=!0){return function(E){E.addEventListener("change",function(){if(g){let v=new URLSearchParams(window.location.search);S&&v.delete("page"),this.value===o?v.delete(d):v.set(d,this.value);let x=window.location.pathname+"?"+v.toString();window.history.pushState({},"",x),T(v);let q=this.value!==o;e(u,q),s()}let L=document.getElementById(w);L&&L.classList.add("hidden")})}}let l="pixahuntFilters";function s(){let d={"ai-type":document.querySelector('input[name="ai-type"]:checked')?.value||"show_all",license:document.querySelector('input[name="license"]:checked')?.value||"all",orientation:document.querySelector('input[name="orientation"]:checked')?.value||"all",filetype:document.querySelector('input[name="filetype"]:checked')?.value||"all",color:new URLSearchParams(window.location.search).get("color")||"all",people:new URLSearchParams(window.location.search).get("people")||"all"};localStorage.setItem(l,JSON.stringify(d))}function f(){let d=new URLSearchParams(window.location.search),o=d.get("ai-type")||"show_all",u=d.get("license")||"all",w=d.get("orientation")||"all",g=d.get("filetype")||"all",S=d.get("color")||"all",E=d.get("people")||"all",L=document.querySelector(`input[name="ai-type"][value="${o}"]`),v=document.querySelector(`input[name="mobile-ai-type"][value="${o}"]`);L&&(L.checked=!0),v&&(v.checked=!0),e("ai-btn",o!=="show_all"),e("mobile-ai-btn",o!=="show_all");let x=document.querySelector(`input[name="license"][value="${u}"]`),q=document.querySelector(`input[name="mobile-license"][value="${u}"]`);x&&(x.checked=!0),q&&(q.checked=!0),e("license-btn",u!=="all"),e("mobile-license-btn",u!=="all");let C=document.querySelector(`input[name="orientation"][value="${w}"]`),H=document.querySelector(`input[name="mobile-orientation"][value="${w}"]`);C&&(C.checked=!0),H&&(H.checked=!0),e("orientation-btn",w!=="all"),e("mobile-orientation-btn",w!=="all");let U=document.querySelector(`input[name="filetype"][value="${g}"]`),$=document.querySelector(`input[name="mobile-filetype"][value="${g}"]`);U&&(U.checked=!0),$&&($.checked=!0),e("filetype-btn",g!=="all"),e("mobile-filetype-btn",g!=="all"),e("color-btn",S!=="all"),e("mobile-color-btn",S!=="all"),e("people-btn",E!=="all"),e("mobile-people-btn",E!=="all")}f(),window.addEventListener("resize",M(()=>{f()},250)),document.getElementById("apply-filters-btn")?.addEventListener("click",function(){let d=new URLSearchParams(window.location.search);d.delete("page");let o=document.querySelector("input[name='ai-type']:checked");o?o.value==="show_all"?d.delete("ai-type"):d.set("ai-type",o.value):d.delete("ai-type");let u=window.location.pathname+"?"+d.toString();window.history.pushState({},"",u),T(d)}),window.updateDesktopClearAllVisibility=function(){let d=document.getElementById("clear-desktop-filters");if(!d)return;let o=new URLSearchParams(window.location.search),u=o.has("license")&&o.get("license")!=="all",w=o.has("ai-type")&&o.get("ai-type")!=="show_all",g=o.has("orientation")&&o.get("orientation")!=="all",S=o.has("filetype")&&o.get("filetype")!=="all",E=o.has("color")&&o.get("color")!=="all",L=o.has("people")&&o.get("people")!=="all";u||w||g||S||E||L?d.classList.remove("hidden"):d.classList.add("hidden")};let i=window.updateDesktopClearAllVisibility;i(),document.getElementById("clear-desktop-filters")?.addEventListener("click",function(){let d=document.querySelector("input[name='license'][value='all']"),o=document.querySelector("input[name='ai-type'][value='show_all']"),u=document.querySelector("input[name='orientation'][value='all']"),w=document.querySelector("input[name='filetype'][value='all']");d&&(d.checked=!0),o&&(o.checked=!0),u&&(u.checked=!0),w&&(w.checked=!0);let g=new URLSearchParams(window.location.search);g.delete("license"),g.delete("ai-type"),g.delete("orientation"),g.delete("filetype"),g.delete("color"),g.delete("people"),g.delete("page");let S=window.location.pathname+(g.toString()?"?"+g.toString():"");window.history.pushState({},"",S),T(g),e("license-btn",!1),e("ai-btn",!1),e("orientation-btn",!1),e("filetype-btn",!1),e("color-btn",!1),e("people-btn",!1),e("mobile-license-btn",!1),e("mobile-ai-btn",!1),e("mobile-orientation-btn",!1),e("mobile-filetype-btn",!1),e("mobile-color-btn",!1),e("mobile-people-btn",!1);let E=document.querySelector("input[name='mobile-license'][value='all']"),L=document.querySelector("input[name='mobile-ai-type'][value='show_all']"),v=document.querySelector("input[name='mobile-orientation'][value='all']"),x=document.querySelector("input[name='mobile-filetype'][value='all']");E&&(E.checked=!0),L&&(L.checked=!0),v&&(v.checked=!0),x&&(x.checked=!0),s(),i(),t()}),window.updateClearAllButtonVisibility=function(){let d=document.getElementById("clear-mobile-filters");if(!d)return;let o=new URLSearchParams(window.location.search),u=o.has("license")&&o.get("license")!=="all",w=o.has("ai-type")&&o.get("ai-type")!=="show_all",g=o.has("orientation")&&o.get("orientation")!=="all",S=o.has("filetype")&&o.get("filetype")!=="all",E=o.has("color")&&o.get("color")!=="all",L=o.has("people")&&o.get("people")!=="all",v=document.querySelector("input[name='mobile-license']:checked")?.value,x=document.querySelector("input[name='mobile-ai-type']:checked")?.value,q=document.querySelector("input[name='mobile-orientation']:checked")?.value,C=document.querySelector("input[name='mobile-filetype']:checked")?.value;u||w||g||S||E||L||(v&&v!=="all"||x&&x!=="show_all"||q&&q!=="all"||C&&C!=="all")?d.classList.remove("hidden"):d.classList.add("hidden")};let t=window.updateClearAllButtonVisibility;t(),document.querySelectorAll("input[name='mobile-license'], input[name='mobile-ai-type'], input[name='mobile-orientation'], input[name='mobile-filetype']").forEach(d=>{d.addEventListener("change",t)}),document.getElementById("mobile-filters-btn")?.addEventListener("click",t),document.getElementById("clear-mobile-filters")?.addEventListener("click",function(){let d=document.querySelector("input[name='mobile-license'][value='all']"),o=document.querySelector("input[name='mobile-ai-type'][value='show_all']"),u=document.querySelector("input[name='mobile-orientation'][value='all']"),w=document.querySelector("input[name='mobile-filetype'][value='all']");d&&(d.checked=!0),o&&(o.checked=!0),u&&(u.checked=!0),w&&(w.checked=!0);let g=new URLSearchParams(window.location.search);g.delete("license"),g.delete("ai-type"),g.delete("orientation"),g.delete("filetype"),g.delete("color"),g.delete("people"),g.delete("page");let S=window.location.pathname+(g.toString()?"?"+g.toString():"");window.history.pushState({},"",S),T(g),e("mobile-license-btn",!1),e("mobile-ai-btn",!1),e("mobile-orientation-btn",!1),e("mobile-filetype-btn",!1),e("mobile-color-btn",!1),e("mobile-people-btn",!1),e("license-btn",!1),e("ai-btn",!1),e("orientation-btn",!1),e("filetype-btn",!1),e("color-btn",!1),e("people-btn",!1);let E=document.querySelector("input[name='license'][value='all']"),L=document.querySelector("input[name='ai-type'][value='show_all']"),v=document.querySelector("input[name='orientation'][value='all']"),x=document.querySelector("input[name='filetype'][value='all']");E&&(E.checked=!0),L&&(L.checked=!0),v&&(v.checked=!0),x&&(x.checked=!0),s(),t();let q=document.getElementById("mobile-filter-overlay"),C=document.getElementById("mobile-header-dim");q&&(q.classList.add("hidden"),C?.classList.add("hidden"),document.body.style.overflow="")}),document.getElementById("apply-mobile-filters")?.addEventListener("click",function(){let d=new URLSearchParams(window.location.search);d.delete("page");let o=document.querySelector("input[name='mobile-license']:checked")?.value||"all",u=document.querySelector("input[name='mobile-ai-type']:checked")?.value||"show_all",w=document.querySelector("input[name='mobile-orientation']:checked")?.value||"all",g=document.querySelector("input[name='mobile-filetype']:checked")?.value||"all",S=d.get("color")||"all",E=d.get("people")||"all";d.delete("license"),d.delete("ai-type"),d.delete("orientation"),d.delete("filetype"),d.delete("color"),d.delete("people"),o!=="all"&&d.set("license",o),u!=="show_all"&&d.set("ai-type",u),w!=="all"&&d.set("orientation",w),g!=="all"&&d.set("filetype",g),S!=="all"&&d.set("color",S),E!=="all"&&d.set("people",E);let L=window.location.pathname+"?"+d.toString();window.history.pushState({},"",L),T(d),e("mobile-license-btn",o!=="all"),e("mobile-ai-btn",u!=="show_all"),e("mobile-orientation-btn",w!=="all"),e("mobile-filetype-btn",g!=="all"),e("mobile-color-btn",S!=="all"),e("mobile-people-btn",E!=="all"),s();let v=document.getElementById("mobile-filter-overlay"),x=document.getElementById("mobile-header-dim");v&&(v.classList.add("hidden"),x?.classList.add("hidden"),document.body.style.overflow="")}),document.querySelectorAll('input[name="ai-type"]').forEach(n("ai-type","show_all","ai-btn","ai-popup",!0,!1)),document.querySelectorAll('input[name="mobile-ai-type"]').forEach(n("ai-type","show_all","ai-btn","mobile-ai-popup",!1,!1)),document.querySelectorAll('input[name="filetype"]').forEach(n("filetype","all","filetype-btn","filetype-popup",!0,!0)),document.querySelectorAll('input[name="mobile-filetype"]').forEach(n("filetype","all","filetype-btn","mobile-filetype-popup",!1,!1)),document.querySelectorAll('input[name="orientation"]').forEach(n("orientation","all","orientation-btn","orientation-popup",!0,!0)),document.querySelectorAll('input[name="mobile-orientation"]').forEach(n("orientation","all","orientation-btn","mobile-orientation-popup",!1,!1)),document.querySelectorAll('input[name="license"]').forEach(n("license","all","license-btn","license-popup",!0,!0)),document.querySelectorAll('input[name="mobile-license"]').forEach(n("license","all","license-btn","mobile-license-popup",!1,!1)),document.querySelectorAll("[data-color]").forEach(d=>{d.addEventListener("click",function(){let o=new URLSearchParams(window.location.search),u=this.getAttribute("data-color"),w=document.getElementById("mobile-filter-overlay");if(w&&!w.classList.contains("hidden")){o.delete("page"),u==="all"?o.delete("color"):o.set("color",u);let L=window.location.pathname+"?"+o.toString();window.history.replaceState({},"",L)}else{o.delete("page"),u==="all"?o.delete("color"):o.set("color",u);let L=window.location.pathname+"?"+o.toString();window.history.pushState({},"",L),T(o);let v=u!=="all";e("color-btn",v),e("mobile-color-btn",v),s()}let S=document.getElementById("color-popup");S&&S.classList.add("hidden");let E=document.getElementById("mobile-color-popup");E&&E.classList.add("hidden")})}),document.querySelectorAll("[data-people]").forEach(d=>{d.addEventListener("click",function(){let o=new URLSearchParams(window.location.search),u=this.getAttribute("data-people"),w=document.getElementById("mobile-filter-overlay");if(w&&!w.classList.contains("hidden")){o.delete("page"),u==="all"?o.delete("people"):o.set("people",u);let L=window.location.pathname+"?"+o.toString();window.history.replaceState({},"",L)}else{o.delete("page"),u==="all"?o.delete("people"):o.set("people",u);let L=window.location.pathname+"?"+o.toString();window.history.pushState({},"",L),T(o);let v=u!=="all";e("people-btn",v),e("mobile-people-btn",v),s()}let S=document.getElementById("people-popup");S&&S.classList.add("hidden");let E=document.getElementById("mobile-people-popup");E&&E.classList.add("hidden")})});let r=document.getElementById("prev-page-btn"),p=document.getElementById("next-page-btn"),a=document.querySelector('.pagination-controls input[type="text"]'),c=new URLSearchParams(window.location.search),m=parseInt(c.get("page"),10)||1,I=(a?.parentElement?.textContent||"").match(/of\s+(\d+)/),y=I?parseInt(I[1],10):1;a&&!a.value&&(a.value=m),r&&r.addEventListener("click",()=>{if(r.disabled)return;let o=(parseInt(c.get("page"),10)||parseInt(a?.value,10)||1)-1;if(o<1)return;let u=new URL(window.location.href);u.searchParams.set("page",o),window.location.href=u.toString()}),p&&p.addEventListener("click",()=>{if(p.disabled)return;let o=(parseInt(c.get("page"),10)||parseInt(a?.value,10)||1)+1;if(o>y)return;let u=new URL(window.location.href);u.searchParams.set("page",o),window.location.href=u.toString()}),a&&a.addEventListener("change",d=>{let o=parseInt(d.target.value,10)||1;o<1?o=1:o>y&&(o=y),d.target.value=o;let u=new URL(window.location.href);u.searchParams.set("page",o),window.location.href=u.toString()});let B=document.getElementById("mobile-prev-page-btn"),k=document.getElementById("mobile-next-page-btn"),P=document.getElementById("mobile-page-input"),V=document.getElementById("mobile-total-pages"),D=V?parseInt(V.textContent,10):y;B&&B.addEventListener("click",()=>{if(B.disabled)return;let o=(parseInt(c.get("page"),10)||parseInt(P?.value,10)||1)-1;if(o<1)return;let u=new URL(window.location.href);u.searchParams.set("page",o),window.location.href=u.toString()}),k&&k.addEventListener("click",()=>{if(k.disabled)return;let o=(parseInt(c.get("page"),10)||parseInt(P?.value,10)||1)+1;if(o>D)return;let u=new URL(window.location.href);u.searchParams.set("page",o),window.location.href=u.toString()}),P&&P.addEventListener("change",d=>{let o=parseInt(d.target.value,10)||1;o<1?o=1:o>D&&(o=D),d.target.value=o;let u=new URL(window.location.href);u.searchParams.set("page",o),window.location.href=u.toString()})}function ce(e,n,l){let s=document.getElementById("prev-page-btn"),f=document.getElementById("next-page-btn"),i=document.querySelector('.pagination-controls input[type="text"]'),t=i?.parentElement,r=document.getElementById("mobile-prev-page-btn"),p=document.getElementById("mobile-next-page-btn"),a=document.getElementById("mobile-page-input"),c=document.getElementById("mobile-total-pages");if(i&&(i.value=e),t){t.innerHTML=`Page <input type="text" class="rounded bg-gray-600 w-12 px-2 py-1 text-center" value="${e}"> of ${n}`;let y=t.querySelector('input[type="text"]');y&&y.addEventListener("change",B=>{let k=parseInt(B.target.value,10)||1;k<1?k=1:k>n&&(k=n),B.target.value=k;let P=new URL(window.location.href);P.searchParams.set("page",k),window.location.href=P.toString()})}a&&(a.value=e),c&&(c.textContent=n);function m(y,B){y&&(B?(y.disabled=!0,y.classList.remove("bg-white","text-gray-800","hover:bg-gray-100"),y.classList.add("bg-gray-600","text-gray-400","cursor-not-allowed")):(y.disabled=!1,y.classList.add("bg-white","text-gray-800","hover:bg-gray-100"),y.classList.remove("bg-gray-600","text-gray-400","cursor-not-allowed")))}let b=e<=1;m(s,b),m(r,b);let I=e>=n||n<=1;m(f,I),m(p,I)}function T(e){e.has("page")||e.delete("page");let n=document.getElementById("image-gallery"),l=document.querySelector(".tag p");if(n&&(requestAnimationFrame(()=>{let t=Array(12).fill(0).map((r,p)=>{let a=["h-48","h-64","h-56","h-72","h-52","h-60"];return`
          <div class="skeleton-card mb-4">
            <div class="bg-gray-700 rounded-lg ${a[p%a.length]} w-full relative overflow-hidden animate-pulse">
              <div class="absolute inset-0 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 skeleton-shimmer"></div>
            </div>
          </div>
        `}).join("");requestAnimationFrame(()=>{n.innerHTML=t})}),!document.getElementById("skeleton-style"))){let t=document.createElement("style");t.id="skeleton-style",t.textContent=`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .skeleton-shimmer {
          animation: shimmer 1.5s infinite;
        }
      `,document.head.appendChild(t)}l&&(l.innerHTML=`
      <span class="inline-block h-5 w-24 bg-gray-700 rounded relative overflow-hidden align-middle">
        <span class="absolute inset-0 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 skeleton-shimmer"></span>
      </span>
    `);let s="&_t="+new Date().getTime(),i=(window.API_URL||"api.php")+"?"+e.toString()+s;fetch(i).then(t=>{if(!t.ok)throw new Error("Network response was not ok: "+t.status);return t.text()}).then(t=>{try{return JSON.parse(t)}catch{throw new Error("Invalid JSON response: "+t.substring(0,200))}}).then(t=>{if(t.error){console.error("Server error:",t.error),n&&(n.innerHTML='<div class="w-full text-center text-white py-20 text-lg col-span-full">Server error: '+z(t.error)+"</div>");return}n&&(n.innerHTML=t.html,setTimeout(()=>{X()},50)),l&&(l.textContent=t.total+" results",l.classList.remove("animate-fade-slide"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{l.classList.add("animate-fade-slide")})})),ce(t.page||1,t.totalPages||1,t.total||0),typeof updateDesktopClearAllVisibility=="function"&&updateDesktopClearAllVisibility(),typeof updateClearAllButtonVisibility=="function"&&updateClearAllButtonVisibility(),typeof W=="function"&&W()}).catch(t=>{console.error("Error loading images:",t),n&&(n.innerHTML='<div class="w-full text-center text-white py-20 text-lg col-span-full">Error: '+z(t.message)+"</div>")})}})();
//# sourceMappingURL=script.min.js.map
