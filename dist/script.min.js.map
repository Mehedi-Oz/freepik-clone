{
  "version": 3,
  "sources": ["../script.js"],
  "sourcesContent": ["// Performance: Debounce utility\nfunction debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n// Sidebar collapse/expand\ndocument.addEventListener('DOMContentLoaded', function () {\n  const sidebar = document.getElementById('logo-sidebar');\n  const collapseBtn = document.getElementById('sidebar-collapse-btn');\n  const mainContent = document.querySelector('.ml-64');\n  const sidebarLogo = document.querySelector('.sidebar-logo');\n  const sidebarDivider = document.querySelector('.sidebar-divider');\n  const headerLogo = document.querySelector('header img');\n\n  let isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';\n\n  function handleResize() {\n    const screenWidth = window.innerWidth;\n\n    if (screenWidth < 1280) {\n      // Mobile view: hide collapse button, sidebar is always hidden on mobile\n      if (collapseBtn) {\n        collapseBtn.style.display = 'none';\n      }\n\n      // On mobile, sidebar is hidden (display: none via CSS max-sm:hidden)\n      // Don't manipulate classes here to avoid conflicts\n\n    } else if (screenWidth >= 1280) {\n      // Desktop view: show collapse button and apply user preference\n      if (collapseBtn) {\n        collapseBtn.style.display = 'block';\n      }\n\n      // Apply the user's preferred state\n      if (isCollapsed) {\n        applySidebarCollapse();\n      } else {\n        applySidebarExpand();\n      }\n    }\n  }\n\n  function applySidebarCollapse() {\n    if (headerLogo) {\n      headerLogo.classList.remove('hidden');\n    }\n    sidebar.classList.remove('w-64');\n    sidebar.classList.add('w-16');\n    mainContent.classList.remove('ml-64');\n    mainContent.classList.add('ml-16');\n    sidebarLogo.classList.remove('justify-between');\n    sidebarLogo.classList.add('justify-center');\n    document.querySelectorAll('.sidebar-text').forEach(text => {\n      text.classList.add('hidden');\n    });\n    document.getElementById('sidebar-logo-img').classList.add('hidden');\n    sidebarDivider.classList.remove('mx');\n    sidebarDivider.classList.add('mx-2');\n    document.querySelector('.sidebar-signin').classList.add('hidden');\n\n    document.querySelectorAll('#logo-sidebar .sidebar-menu a').forEach(link => {\n      link.classList.remove('p-2');\n      link.classList.add('p-1', 'justify-center');\n    });\n    document.querySelectorAll('#logo-sidebar .sidebar-menu svg').forEach(svg => {\n      svg.classList.add('m-1');\n    });\n\n    const helperIcons = document.querySelector('.sidebar-helper-icons .flex');\n    helperIcons.classList.remove('justify-between');\n    helperIcons.classList.add('flex-col', 'gap-2', 'items-center');\n    const emailIcon = helperIcons.children[0].children[1];\n    emailIcon.classList.add('hidden');\n    const collapseIcon = collapseBtn.querySelector('svg');\n    collapseIcon.classList.add('-rotate-90');\n    document.querySelector('.sidebar-helper-icons .flex').classList.remove('justify-between');\n    document.querySelector('.sidebar-helper-icons .flex').classList.add('justify-center');\n    document.querySelector('.sidebar-helper-icons .flex > div').classList.remove('flex', 'gap-4');\n    document.querySelector('.sidebar-helper-icons .flex > div').classList.add('flex-col', 'gap-2');\n    document.querySelector('.sidebar-helper-icons .flex > div').children[1].classList.add('hidden');\n  }\n\n  function applySidebarExpand() {\n    const foucStyle = document.getElementById('sidebar-fouc-style');\n    if (foucStyle) {\n      foucStyle.remove();\n    }\n\n    if (headerLogo) {\n      headerLogo.classList.add('hidden');\n    }\n    sidebar.classList.remove('w-16');\n    sidebar.classList.add('w-64');\n    mainContent.classList.remove('ml-16');\n    mainContent.classList.add('ml-64');\n    sidebarLogo.classList.add('justify-between');\n    sidebarLogo.classList.remove('justify-center');\n    setTimeout(() => {\n      document.querySelectorAll('.sidebar-text').forEach(text => {\n        text.classList.remove('hidden');\n      });\n      document.getElementById('sidebar-logo-img').classList.remove('hidden');\n      document.querySelector('.sidebar-signin').classList.remove('hidden');\n    }, 150);\n    sidebarDivider.classList.add('mx');\n    sidebarDivider.classList.remove('mx-2');\n\n    document.querySelectorAll('#logo-sidebar .sidebar-menu a').forEach(link => {\n      link.classList.add('p-2');\n      link.classList.remove('p-1', 'justify-center');\n    });\n    document.querySelectorAll('#logo-sidebar .sidebar-menu svg').forEach(svg => {\n      svg.classList.remove('m-1');\n    });\n\n    const helperIcons = document.querySelector('.sidebar-helper-icons .flex');\n    helperIcons.classList.add('justify-between');\n    helperIcons.classList.remove('flex-col', 'gap-2', 'items-center');\n    const emailIcon = helperIcons.children[0].children[1];\n    emailIcon.classList.remove('hidden');\n    const collapseIcon = collapseBtn.querySelector('svg');\n    collapseIcon.classList.remove('-rotate-90');\n    document.querySelector('.sidebar-helper-icons .flex').classList.add('justify-between');\n    document.querySelector('.sidebar-helper-icons .flex').classList.remove('justify-center');\n    document.querySelector('.sidebar-helper-icons .flex > div').classList.add('flex', 'gap-4');\n    document.querySelector('.sidebar-helper-icons .flex > div').classList.remove('flex-col', 'gap-2');\n    document.querySelector('.sidebar-helper-icons .flex > div').children[1].classList.remove('hidden');\n  }\n\n  window.addEventListener('resize', debounce(handleResize, 250));\n  handleResize();\n\n  collapseBtn?.addEventListener('click', function () {\n    isCollapsed = !isCollapsed;\n    localStorage.setItem('sidebarCollapsed', isCollapsed);\n\n    if (isCollapsed) {\n      applySidebarCollapse();\n    } else {\n      applySidebarExpand();\n    }\n  });\n});\n\n\n// Search bar clear button\ndocument.addEventListener('DOMContentLoaded', function () {\n  const searchInput = document.querySelector('input[type=\"search\"]');\n  const clearIcon = document.querySelector('.absolute.right-20');\n\n  if (searchInput && clearIcon) {\n    function toggleClearButton() {\n      if (searchInput.value.trim() !== '') {\n        clearIcon.classList.remove('hidden');\n      } else {\n        clearIcon.classList.add('hidden');\n      }\n    }\n\n    searchInput.addEventListener('input', toggleClearButton);\n    clearIcon.addEventListener('click', function () {\n      searchInput.value = '';\n      toggleClearButton();\n      searchInput.focus();\n    });\n\n    toggleClearButton();\n  }\n});\n\n\n// Close <details> elements when clicking outside\ndocument.addEventListener('click', function (e) {\n  const details = document.querySelectorAll('details');\n  details.forEach(detail => {\n    if (detail.open && !detail.contains(e.target)) {\n      detail.open = false;\n    }\n  });\n});\n\n\n// Filter bar toggle with cache\nconst chevron = document.querySelector('.chevron');\nconst filtersButton = chevron?.closest('button');\nconst target = document.getElementById('filters-section');\n\n// Load cached state (default: closed/up)\nlet isDown = localStorage.getItem('filterDropdownOpen') === 'true';\n\n// Function to check if we're on desktop\nfunction isDesktopView() {\n  return window.innerWidth >= 640; // sm breakpoint in Tailwind\n}\n\n// Apply cached state on page load (only on desktop)\nif (chevron && target && isDesktopView()) {\n  if (isDown) {\n    chevron.innerHTML = `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m19.5 8.25-7.5 7.5-7.5-7.5\" />`;\n    target.style.display = 'flex';\n  } else {\n    chevron.innerHTML = `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m4.5 15.75 7.5-7.5 7.5 7.5\" />`;\n    target.style.display = 'none';\n  }\n\n  // Remove FOUC style now that JS has taken over\n  const foucStyle = document.getElementById('filter-fouc-style');\n  if (foucStyle) {\n    foucStyle.remove();\n  }\n}\n\nfiltersButton?.addEventListener('click', () => {\n  const foucStyle = document.getElementById('filter-fouc-style');\n  if (foucStyle) {\n    foucStyle.remove();\n  }\n\n  chevron.innerHTML = isDown\n    ? `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m4.5 15.75 7.5-7.5 7.5 7.5\" />`\n    : `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m19.5 8.25-7.5 7.5-7.5-7.5\" />`;\n  isDown = !isDown;\n\n  // Cache the new state\n  localStorage.setItem('filterDropdownOpen', isDown);\n\n  if (target) {\n    target.style.display = target.style.display === 'none' ? 'flex' : 'none';\n  }\n});\n\n// Reset filter display on resize to prevent conflicts between mobile and desktop views\nwindow.addEventListener('resize', debounce(() => {\n  if (target) {\n    if (!isDesktopView()) {\n      // On mobile, hide desktop filters\n      target.style.display = 'none';\n    } else {\n      // On desktop, restore cached state\n      target.style.display = isDown ? 'flex' : 'none';\n    }\n  }\n}, 250));\n\n\n// Desktop filter popups\ndocument.addEventListener('DOMContentLoaded', () => {\n  const filterElements = [\n    { btn: 'license-btn', popup: 'license-popup', chevron: 'license-chevron' },\n    { btn: 'ai-btn', popup: 'ai-popup', chevron: 'ai-chevron' },\n    { btn: 'orientation-btn', popup: 'orientation-popup', chevron: 'orientation-chevron' },\n    { btn: 'color-btn', popup: 'color-popup', chevron: 'color-chevron' },\n    { btn: 'people-btn', popup: 'people-popup', chevron: 'people-chevron' },\n    { btn: 'filetype-btn', popup: 'filetype-popup', chevron: 'filetype-chevron' }\n  ];\n\n  function positionPopup(button, popup) {\n    const buttonRect = button.getBoundingClientRect();\n    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n    popup.style.left = (buttonRect.left + scrollLeft) + 'px';\n    popup.style.top = (buttonRect.bottom + 8) + 'px';\n  }\n\n  function closeAllPopups(except = null) {\n    filterElements.forEach(element => {\n      const popup = document.getElementById(element.popup);\n      const chevron = document.getElementById(element.chevron);\n      if (popup && popup !== except) {\n        popup.classList.add('hidden');\n        popup.style.display = '';\n      }\n      if (chevron && chevron !== except?.previousElementSibling?.querySelector('svg')) {\n        chevron.classList.remove('rotate-180');\n      }\n    });\n\n    const relevancePopup = document.getElementById('relevance-popup');\n    const relevanceChevron = document.getElementById('relevance-chevron');\n    if (relevancePopup && relevancePopup !== except) {\n      relevancePopup.classList.add('hidden');\n    }\n    if (relevanceChevron) {\n      relevanceChevron.classList.remove('rotate-180');\n    }\n  }\n\n  // Modify the filter popup logic to allow multiple filters to remain open simultaneously\n  filterElements.forEach(element => {\n    const btn = document.getElementById(element.btn);\n    const popup = document.getElementById(element.popup);\n    const chevron = document.getElementById(element.chevron);\n\n    if (btn && popup) {\n      btn.addEventListener('click', (e) => {\n        e.stopPropagation();\n        const isHidden = popup.classList.contains('hidden');\n\n        if (isHidden) {\n          if (isDesktopView()) {\n            closeAllPopups(popup);\n          }\n          positionPopup(btn, popup);\n          popup.classList.remove('hidden');\n          if (chevron) chevron.classList.add('rotate-180');\n        } else {\n          popup.classList.add('hidden');\n          if (chevron) chevron.classList.remove('rotate-180');\n        }\n      });\n      popup.addEventListener('click', (e) => e.stopPropagation());\n    }\n  });\n\n  const relevanceChevron = document.getElementById('relevance-chevron');\n  const relevancePopup = document.getElementById('relevance-popup');\n  const relevanceButton = relevanceChevron?.closest('button');\n\n  if (relevanceButton && relevancePopup) {\n    relevanceButton.addEventListener('click', (e) => {\n      e.stopPropagation();\n      const isHidden = relevancePopup.classList.contains('hidden');\n\n      if (isHidden) {\n        closeAllPopups(relevancePopup);\n        relevancePopup.classList.remove('hidden');\n        relevanceChevron.classList.add('rotate-180');\n      } else {\n        relevancePopup.classList.add('hidden');\n        relevanceChevron.classList.remove('rotate-180');\n      }\n    });\n    relevancePopup.addEventListener('click', (e) => e.stopPropagation());\n  }\n\n  document.addEventListener('click', (e) => {\n    const isInsideFilter = e.target.closest('[id$=\"-btn\"], [id$=\"-chevron\"], [id$=\"-popup\"]');\n    const isInsideRelevance = e.target.closest('#relevance-chevron, #relevance-popup') || e.target.closest('li:has(#relevance-chevron)');\n    if (!isInsideFilter && !isInsideRelevance) {\n      closeAllPopups();\n    }\n  });\n\n  window.addEventListener('scroll', () => {\n    filterElements.forEach(element => {\n      const btn = document.getElementById(element.btn);\n      const popup = document.getElementById(element.popup);\n      if (btn && popup && !popup.classList.contains('hidden')) {\n        positionPopup(btn, popup);\n      }\n    });\n  });\n  window.addEventListener('resize', debounce(() => {\n    filterElements.forEach(element => {\n      const btn = document.getElementById(element.btn);\n      const popup = document.getElementById(element.popup);\n      if (btn && popup && !popup.classList.contains('hidden')) {\n        positionPopup(btn, popup);\n      }\n    });\n  }, 250));\n\n  filterElements.forEach(element => {\n    const popup = document.getElementById(element.popup);\n    if (popup) {\n      popup.classList.add('hidden');\n      popup.style.display = '';\n    }\n  });\n\n  if (relevancePopup) {\n    relevancePopup.classList.add('hidden');\n  }\n});\n\n\n// Button group toggles\ndocument.querySelectorAll('.people-count-btn').forEach(btn => {\n  btn.addEventListener('click', function () {\n    document.querySelectorAll('.people-count-btn').forEach(b => b.classList.remove('bg-green-600'));\n    this.classList.add('bg-green-600');\n  });\n});\n\n\n\n\n// Mobile sidebar\ndocument.addEventListener('DOMContentLoaded', function () {\n  const mobileSidebarOverlay = document.getElementById('mobile-sidebar-overlay');\n  const mobileSidebar = document.getElementById('mobile-sidebar');\n  const mobileMenuBtn = document.getElementById('mobile-menu-btn');\n  const mobileSidebarClose = document.getElementById('mobile-sidebar-close');\n\n  mobileMenuBtn?.addEventListener('click', function () {\n    mobileSidebarOverlay.classList.remove('hidden');\n    mobileSidebar.classList.remove('-translate-x-full');\n    document.body.classList.add('overflow-hidden');\n  });\n\n  mobileSidebarClose?.addEventListener('click', function () {\n    mobileSidebarOverlay.classList.add('hidden');\n    mobileSidebar.classList.add('-translate-x-full');\n    document.body.classList.remove('overflow-hidden');\n  });\n\n  mobileSidebarOverlay?.addEventListener('click', function (e) {\n    if (e.target === mobileSidebarOverlay) {\n      mobileSidebarOverlay.classList.add('hidden');\n      mobileSidebar.classList.add('-translate-x-full');\n      document.body.classList.remove('overflow-hidden');\n    }\n  });\n});\n\n\n// Mobile filter overlay and All Images dropdown\ndocument.addEventListener('DOMContentLoaded', function () {\n  const mobileFiltersBtn = document.getElementById('mobile-filters-btn');\n  const mobileFilterOverlay = document.getElementById('mobile-filter-overlay');\n  const closeFilterOverlayBtn = document.getElementById('close-filter-overlay');\n  const mobileHeaderDim = document.getElementById('mobile-header-dim');\n\n  // All Images dropdown elements\n  const mobileAllImagesBtn = document.getElementById('mobile-all-images-btn');\n  const mobileAllImagesDropdown = document.getElementById('mobile-all-images-dropdown');\n  const mobileAllImagesText = document.getElementById('mobile-all-images-text');\n  const mobileAllImagesChevron = document.getElementById('mobile-all-images-chevron');\n\n  // Open mobile filter overlay\n  mobileFiltersBtn?.addEventListener('click', (e) => {\n    e.stopPropagation();\n    // Close All Images dropdown if open\n    if (mobileAllImagesDropdown) {\n      mobileAllImagesDropdown.classList.add('hidden');\n      mobileAllImagesChevron?.classList.remove('rotate-180');\n    }\n    if (mobileFilterOverlay) {\n      mobileFilterOverlay.classList.remove('hidden');\n      mobileHeaderDim?.classList.remove('hidden');\n      document.body.style.overflow = 'hidden';\n    }\n  });\n\n  // Close mobile filter overlay\n  closeFilterOverlayBtn?.addEventListener('click', () => {\n    if (mobileFilterOverlay) {\n      mobileFilterOverlay.classList.add('hidden');\n      mobileHeaderDim?.classList.add('hidden');\n      document.body.style.overflow = '';\n    }\n  });\n\n  // Toggle All Images dropdown\n  mobileAllImagesBtn?.addEventListener('click', (e) => {\n    e.stopPropagation();\n    const isHidden = mobileAllImagesDropdown?.classList.contains('hidden');\n\n    if (isHidden) {\n      mobileAllImagesDropdown?.classList.remove('hidden');\n      mobileAllImagesChevron?.classList.add('rotate-180');\n    } else {\n      mobileAllImagesDropdown?.classList.add('hidden');\n      mobileAllImagesChevron?.classList.remove('rotate-180');\n    }\n  });\n\n  // Handle category option selection\n  const categoryOptions = document.querySelectorAll('.mobile-category-option');\n  const categoryRadios = document.querySelectorAll('input[name=\"mobile-category\"]');\n\n  categoryRadios.forEach(radio => {\n    radio.addEventListener('change', function () {\n      const selectedOption = this.closest('.mobile-category-option');\n      const categoryText = selectedOption?.querySelector('span')?.textContent.trim();\n\n      // Update button text\n      if (mobileAllImagesText && categoryText) {\n        mobileAllImagesText.textContent = categoryText;\n      }\n\n      // Update text colors\n      categoryOptions.forEach(opt => {\n        opt.classList.remove('text-white');\n        opt.classList.add('text-gray-400');\n      });\n      if (selectedOption) {\n        selectedOption.classList.add('text-white');\n        selectedOption.classList.remove('text-gray-400');\n      }\n\n      // Close dropdown\n      mobileAllImagesDropdown?.classList.add('hidden');\n      mobileAllImagesChevron?.classList.remove('rotate-180');\n    });\n  });\n\n  // Close dropdown when clicking outside\n  document.addEventListener('click', (e) => {\n    if (!e.target.closest('#mobile-all-images-btn') && !e.target.closest('#mobile-all-images-dropdown')) {\n      mobileAllImagesDropdown?.classList.add('hidden');\n      mobileAllImagesChevron?.classList.remove('rotate-180');\n    }\n  });\n});\n\n\n// Mobile filter popups\ndocument.addEventListener('DOMContentLoaded', function () {\n  const mobileFilterElements = [\n    { btn: 'mobile-license-btn', popup: 'mobile-license-popup' },\n    { btn: 'mobile-ai-btn', popup: 'mobile-ai-popup' },\n    { btn: 'mobile-orientation-btn', popup: 'mobile-orientation-popup' },\n    { btn: 'mobile-color-btn', popup: 'mobile-color-popup' },\n    { btn: 'mobile-people-btn', popup: 'mobile-people-popup' },\n    { btn: 'mobile-filetype-btn', popup: 'mobile-filetype-popup' }\n  ];\n\n  mobileFilterElements.forEach(element => {\n    const btn = document.getElementById(element.btn);\n    const popup = document.getElementById(element.popup);\n\n    if (btn && popup) {\n      btn.addEventListener('click', (e) => {\n        e.stopPropagation();\n        const isHidden = popup.classList.contains('hidden');\n\n        if (isHidden) {\n          popup.classList.remove('hidden');\n        } else {\n          popup.classList.add('hidden');\n        }\n      });\n      popup.addEventListener('click', (e) => e.stopPropagation());\n    }\n  });\n});\n\n\n\n\n\n// Image card overlays\ndocument.addEventListener('DOMContentLoaded', function () {\n\n  const icons = {\n    download: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-5 h-5\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3\" />\n    </svg>`,\n\n    edit: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-5 h-5\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42\" />\n    </svg>`,\n\n    save: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-5 h-5\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\n    </svg>`,\n\n    search: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m21 21-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607Z\" />\n    </svg>`\n  };\n\n  function createImageOverlay() {\n    return `\n      <div class=\"overlay absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 rounded-lg\"></div>\n      <div class=\"action-buttons absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex gap-2\">\n        <button title=\"Download\" class=\"download-btn p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700 transition\" data-action=\"download\">\n          ${icons.download}\n        </button>\n        <button title=\"Edit with AI\" class=\"edit-btn p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700 transition\" data-action=\"edit\">\n          ${icons.edit}\n        </button>\n        <button title=\"Save to collection\" class=\"save-btn p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700 transition\" data-action=\"save\">\n          ${icons.save}\n        </button>\n      </div>\n      <div class=\"discover-section absolute bottom-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n        <button class=\"discover-btn flex items-center gap-2 text-white bg-gray-800 bg-opacity-70 rounded-full px-3 py-1 text-sm hover:bg-opacity-90 transition\" data-action=\"discover\">\n          ${icons.search}\n          Discover similar\n        </button>\n      </div>\n    `;\n  }\n\n  function initializeImageCards() {\n    const imageCards = document.querySelectorAll('.image-card');\n\n    imageCards.forEach(card => {\n      card.innerHTML += createImageOverlay();\n\n      const downloadBtn = card.querySelector('.download-btn');\n      const editBtn = card.querySelector('.edit-btn');\n      const saveBtn = card.querySelector('.save-btn');\n      const discoverBtn = card.querySelector('.discover-btn');\n\n      const imageId = card.dataset.image;\n      const imageAlt = card.querySelector('img').alt;\n\n      downloadBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        handleImageAction('download', imageId, imageAlt);\n      });\n\n      editBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        handleImageAction('edit', imageId, imageAlt);\n      });\n\n      saveBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        handleImageAction('save', imageId, imageAlt);\n      });\n\n      discoverBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        handleImageAction('discover', imageId, imageAlt);\n      });\n    });\n  }\n\n  function handleImageAction(action, imageId, imageAlt) {\n    switch (action) {\n      case 'download':\n        downloadImage(imageId);\n        break;\n\n      case 'edit':\n        openImageEditor(imageId);\n        break;\n\n      case 'save':\n        saveToCollection(imageId);\n        showNotification('Image saved to collection!');\n        break;\n\n      case 'discover':\n        findSimilarImages(imageId);\n        break;\n\n      default:\n      // Unknown action\n    }\n  }\n\n  initializeImageCards();\n});\n\n\n// Search tags with arrow controls\ndocument.addEventListener('DOMContentLoaded', function () {\n  const searchInput = document.querySelector('input[type=\"search\"]');\n  const searchTags = document.querySelectorAll('.overflow-x-auto ul li');\n  const tagsContainer = document.getElementById('tags-container');\n  const scrollLeftBtn = document.getElementById('tags-scroll-left');\n  const scrollRightBtn = document.getElementById('tags-scroll-right');\n\n  searchTags.forEach(tag => {\n    tag.addEventListener('click', function () {\n      const tagText = this.textContent.trim();\n\n      if (searchInput) {\n        searchInput.value = tagText;\n      }\n\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n\n      searchTags.forEach(t => t.classList.remove('bg-gray-600'));\n      this.classList.add('bg-gray-600');\n    });\n  });\n\n  if (tagsContainer && scrollLeftBtn && scrollRightBtn) {\n    const scrollAmount = 300;\n\n    function updateArrows() {\n      const { scrollLeft, scrollWidth, clientWidth } = tagsContainer;\n\n      if (scrollLeft > 0) {\n        scrollLeftBtn.classList.remove('hidden');\n      } else {\n        scrollLeftBtn.classList.add('hidden');\n      }\n\n      if (scrollLeft + clientWidth < scrollWidth - 10) {\n        scrollRightBtn.classList.remove('hidden');\n      } else {\n        scrollRightBtn.classList.add('hidden');\n      }\n    }\n\n    scrollLeftBtn.addEventListener('click', () => {\n      tagsContainer.scrollBy({\n        left: -scrollAmount,\n        behavior: 'smooth'\n      });\n    });\n\n    scrollRightBtn.addEventListener('click', () => {\n      tagsContainer.scrollBy({\n        left: scrollAmount,\n        behavior: 'smooth'\n      });\n    });\n\n    tagsContainer.addEventListener('scroll', updateArrows);\n    updateArrows();\n    window.addEventListener('resize', debounce(updateArrows, 250));\n  }\n});\n\n\n// Sidebar popup handler\ndocument.addEventListener('DOMContentLoaded', function () {\n  const sidebar = document.getElementById('logo-sidebar');\n  const sidebarFooterIcons = document.querySelector('.sidebar-helper-icons');\n\n  const popupRegistry = new Set();\n\n  initPopupHandler({\n    buttonId: 'more-options-btn',\n    popupId: 'more-options-popup',\n    popupRegistry: popupRegistry,\n    onOpen: function () {\n      const collapsedFooterIcons = document.getElementById('collapsed-footer-icons');\n      if (sidebar?.classList.contains('w-16') && collapsedFooterIcons) {\n        collapsedFooterIcons.classList.remove('hidden');\n      }\n    },\n    onClose: function () {\n      const collapsedFooterIcons = document.getElementById('collapsed-footer-icons');\n      if (collapsedFooterIcons) {\n        collapsedFooterIcons.classList.add('hidden');\n      }\n    }\n  });\n\n  initPopupHandler({\n    buttonId: 'all-tools-btn',\n    popupId: 'all-tools-popup',\n    popupRegistry: popupRegistry\n  });\n\n  const collapsedFooterIcons = document.getElementById('collapsed-footer-icons');\n  const collapsedThemeBtn = collapsedFooterIcons?.querySelector('[title=\"Theme\"]');\n\n  if (collapsedThemeBtn) {\n    setupThemePopup(collapsedThemeBtn);\n  }\n\n  if (sidebar && sidebarFooterIcons) {\n    const observer = new MutationObserver(function (mutations) {\n      mutations.forEach(function (mutation) {\n        if (mutation.attributeName === 'class') {\n          const isCollapsed = sidebar.classList.contains('w-16');\n          const helperIconsContainer = sidebarFooterIcons.querySelector('.flex > div');\n          if (helperIconsContainer) {\n            helperIconsContainer.style.display = isCollapsed ? 'none' : 'flex';\n          }\n          if (!isCollapsed && collapsedFooterIcons) {\n            collapsedFooterIcons.classList.add('hidden');\n          }\n        }\n      });\n    });\n\n    observer.observe(sidebar, { attributes: true });\n\n    const isCollapsedOnLoad = sidebar.classList.contains('w-16');\n    const helperIconsContainer = sidebarFooterIcons.querySelector('.flex > div');\n    if (isCollapsedOnLoad && helperIconsContainer) {\n      helperIconsContainer.style.display = 'none';\n    }\n  }\n});\n\n// Popup handler function\nfunction initPopupHandler(config) {\n  const { buttonId, popupId, popupRegistry, onOpen, onClose } = config;\n  const button = document.getElementById(buttonId);\n  const popup = document.getElementById(popupId);\n\n  if (!button || !popup) return;\n\n  function closeOtherPopups() {\n    if (popupRegistry) {\n      popupRegistry.forEach(otherPopup => {\n        if (otherPopup.element !== popup && !otherPopup.element.classList.contains('hidden')) {\n          otherPopup.element.classList.add('hidden');\n          if (otherPopup.onClose) {\n            otherPopup.onClose();\n          }\n        }\n      });\n    }\n  }\n\n  if (popupRegistry) {\n    popupRegistry.add({\n      element: popup,\n      onClose: onClose\n    });\n  }\n\n  button.addEventListener('click', function (e) {\n    e.stopPropagation();\n\n    const isCurrentlyHidden = popup.classList.contains('hidden');\n\n    closeOtherPopups();\n\n    if (isCurrentlyHidden) {\n      popup.classList.remove('hidden');\n      if (onOpen) onOpen();\n    } else {\n      popup.classList.add('hidden');\n      if (onClose) onClose();\n    }\n  });\n\n  document.addEventListener('click', function (e) {\n    if (!button.contains(e.target) && !popup.contains(e.target)) {\n      popup.classList.add('hidden');\n      if (onClose) onClose();\n    }\n  });\n\n  popup.querySelectorAll('a').forEach(link => {\n    link.addEventListener('click', function () {\n      popup.classList.add('hidden');\n      if (onClose) onClose();\n    });\n  });\n\n  popup.addEventListener('click', function (e) {\n    e.stopPropagation();\n  });\n}\n\n// Theme popup setup function\nfunction setupThemePopup(themeButton) {\n  const themePopup = document.createElement('div');\n  themePopup.className = 'absolute bottom-full mb-2 w-32 bg-gray-800 border border-gray-600 rounded shadow-lg z-50 text-white text-sm hidden';\n  themePopup.innerHTML = `\n    <ul class=\"py-1\">\n      <li class=\"flex items-center gap-2 px-4 py-2 hover:bg-gray-700 cursor-pointer\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"h-4 w-4\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z\" />\n        </svg>\n        Light\n      </li>\n      <li class=\"flex items-center gap-2 px-4 py-2 hover:bg-gray-700 cursor-pointer\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"h-4 w-4\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z\" />\n        </svg>\n        Dark\n      </li>\n      <li class=\"flex items-center gap-2 px-4 py-2 hover:bg-gray-700 cursor-pointer\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"h-4 w-4\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25\" />\n        </svg>\n        System\n      </li>\n    </ul>\n  `;\n\n  const themeBtnWrapper = document.createElement('div');\n  themeBtnWrapper.className = 'relative';\n  themeButton.parentNode.insertBefore(themeBtnWrapper, themeButton);\n  themeBtnWrapper.appendChild(themeButton);\n  themeBtnWrapper.appendChild(themePopup);\n\n  themeButton.addEventListener('click', function (e) {\n    e.stopPropagation();\n    themePopup.classList.toggle('hidden');\n  });\n\n  document.addEventListener('click', function (e) {\n    if (!themeBtnWrapper.contains(e.target)) {\n      themePopup.classList.add('hidden');\n    }\n  });\n\n  themePopup.querySelectorAll('li').forEach(item => {\n    item.addEventListener('click', function () {\n      themePopup.classList.add('hidden');\n    });\n  });\n}\n\n\n\n\n\n// Mobile All Tools page\ndocument.addEventListener('DOMContentLoaded', function () {\n  const mobileAllToolsBtn = document.querySelector('#mobile-sidebar ul:nth-of-type(2) li:nth-child(4) a');\n  const mobileAllToolsPage = document.getElementById('mobile-all-tools-page');\n  const mobileAllToolsBack = document.getElementById('mobile-all-tools-back');\n  const mobileSidebarOverlay = document.getElementById('mobile-sidebar-overlay');\n  const mobileSidebar = document.getElementById('mobile-sidebar');\n\n  if (mobileAllToolsBtn && mobileAllToolsPage) {\n    mobileAllToolsBtn.addEventListener('click', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      mobileSidebarOverlay.classList.add('hidden');\n      mobileSidebar.classList.add('-translate-x-full');\n      document.body.classList.remove('overflow-hidden');\n\n      mobileAllToolsPage.classList.remove('hidden');\n      document.body.classList.add('overflow-hidden');\n    });\n\n    mobileAllToolsBack?.addEventListener('click', function (e) {\n      e.preventDefault();\n\n      mobileAllToolsPage.classList.add('hidden');\n\n      mobileSidebarOverlay.classList.remove('hidden');\n      mobileSidebar.classList.remove('-translate-x-full');\n      document.body.classList.add('overflow-hidden');\n    });\n\n    mobileAllToolsPage.querySelectorAll('a:not(#mobile-all-tools-back)').forEach(link => {\n      link.addEventListener('click', function (e) {\n        e.preventDefault();\n        mobileAllToolsPage.classList.add('hidden');\n        document.body.classList.remove('overflow-hidden');\n      });\n    });\n  }\n});\n\n// Filter AJAX handlers - wrapped in DOMContentLoaded\ndocument.addEventListener('DOMContentLoaded', function () {\n\n  // Helper function to highlight filter button when non-default option is selected\n  function updateFilterButtonHighlight(buttonId, isActive) {\n    const btn = document.getElementById(buttonId);\n    if (btn) {\n      if (isActive) {\n        btn.style.backgroundColor = 'oklch(44.3% 0.11 240.79)';\n      } else {\n        btn.style.backgroundColor = '';\n      }\n    }\n  }\n\n  // =============================================\n  // FILTER CACHING SYSTEM\n  // =============================================\n  const FILTER_CACHE_KEY = 'pixahuntFilters';\n\n  // Save all filter states to localStorage\n  function saveFiltersToCache() {\n    const filters = {\n      'ai-type': document.querySelector('input[name=\"ai-type\"]:checked')?.value || 'show_all',\n      'license': document.querySelector('input[name=\"license\"]:checked')?.value || 'all',\n      'orientation': document.querySelector('input[name=\"orientation\"]:checked')?.value || 'all',\n      'filetype': document.querySelector('input[name=\"filetype\"]:checked')?.value || 'all',\n      'color': new URLSearchParams(window.location.search).get('color') || 'all',\n      'people': new URLSearchParams(window.location.search).get('people') || 'all'\n    };\n    localStorage.setItem(FILTER_CACHE_KEY, JSON.stringify(filters));\n  }\n\n  // Load and apply filters from URL parameters\n  function loadFiltersFromURL() {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    // Get filter values from URL or use defaults\n    const aiType = urlParams.get('ai-type') || 'show_all';\n    const license = urlParams.get('license') || 'all';\n    const orientation = urlParams.get('orientation') || 'all';\n    const filetype = urlParams.get('filetype') || 'all';\n    const color = urlParams.get('color') || 'all';\n    const people = urlParams.get('people') || 'all';\n\n    // Apply AI filter\n    const aiRadio = document.querySelector(`input[name=\"ai-type\"][value=\"${aiType}\"]`);\n    const mobileAiRadio = document.querySelector(`input[name=\"mobile-ai-type\"][value=\"${aiType}\"]`);\n    if (aiRadio) aiRadio.checked = true;\n    if (mobileAiRadio) mobileAiRadio.checked = true;\n    updateFilterButtonHighlight('ai-btn', aiType !== 'show_all');\n    updateFilterButtonHighlight('mobile-ai-btn', aiType !== 'show_all');\n\n    // Apply License filter\n    const licenseRadio = document.querySelector(`input[name=\"license\"][value=\"${license}\"]`);\n    const mobileLicenseRadio = document.querySelector(`input[name=\"mobile-license\"][value=\"${license}\"]`);\n    if (licenseRadio) licenseRadio.checked = true;\n    if (mobileLicenseRadio) mobileLicenseRadio.checked = true;\n    updateFilterButtonHighlight('license-btn', license !== 'all');\n    updateFilterButtonHighlight('mobile-license-btn', license !== 'all');\n\n    // Apply Orientation filter\n    const orientationRadio = document.querySelector(`input[name=\"orientation\"][value=\"${orientation}\"]`);\n    const mobileOrientationRadio = document.querySelector(`input[name=\"mobile-orientation\"][value=\"${orientation}\"]`);\n    if (orientationRadio) orientationRadio.checked = true;\n    if (mobileOrientationRadio) mobileOrientationRadio.checked = true;\n    updateFilterButtonHighlight('orientation-btn', orientation !== 'all');\n    updateFilterButtonHighlight('mobile-orientation-btn', orientation !== 'all');\n\n    // Apply Filetype filter\n    const filetypeRadio = document.querySelector(`input[name=\"filetype\"][value=\"${filetype}\"]`);\n    const mobileFiletypeRadio = document.querySelector(`input[name=\"mobile-filetype\"][value=\"${filetype}\"]`);\n    if (filetypeRadio) filetypeRadio.checked = true;\n    if (mobileFiletypeRadio) mobileFiletypeRadio.checked = true;\n    updateFilterButtonHighlight('filetype-btn', filetype !== 'all');\n    updateFilterButtonHighlight('mobile-filetype-btn', filetype !== 'all');\n\n    // Apply Color filter highlight\n    updateFilterButtonHighlight('color-btn', color !== 'all');\n    updateFilterButtonHighlight('mobile-color-btn', color !== 'all');\n\n    // Apply People filter highlight\n    updateFilterButtonHighlight('people-btn', people !== 'all');\n    updateFilterButtonHighlight('mobile-people-btn', people !== 'all');\n  }\n\n  // Load filters from URL on page load\n  loadFiltersFromURL();\n\n  // Reload filters from URL on resize (for seamless mobile/desktop switching)\n  window.addEventListener('resize', debounce(() => {\n    loadFiltersFromURL();\n  }, 250));\n\n  document.getElementById(\"apply-filters-btn\")?.addEventListener(\"click\", function () {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    // Reset page to 1 when filters change\n    urlParams.delete('page');\n\n    // Handle AI Type\n    const aiType = document.querySelector(\"input[name='ai-type']:checked\");\n    if (aiType) {\n      if (aiType.value === 'show_all') {\n        urlParams.delete(\"ai-type\");\n      } else {\n        urlParams.set(\"ai-type\", aiType.value);\n      }\n    } else {\n      // Default behavior if nothing checked (shouldn't happen usually)\n      urlParams.delete(\"ai-type\");\n    }\n\n    // Update URL without reloading\n    const newUrl = window.location.pathname + '?' + urlParams.toString();\n    window.history.pushState({}, '', newUrl);\n\n    // Load images via AJAX\n    loadImagesAjax(urlParams);\n  });\n\n  // Function to check if any desktop filter is active and show/hide Clear All button\n  window.updateDesktopClearAllVisibility = function () {\n    const clearBtn = document.getElementById('clear-desktop-filters');\n    if (!clearBtn) return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n\n    // Check URL params for active filters\n    const hasLicense = urlParams.has('license') && urlParams.get('license') !== 'all';\n    const hasAiType = urlParams.has('ai-type') && urlParams.get('ai-type') !== 'show_all';\n    const hasOrientation = urlParams.has('orientation') && urlParams.get('orientation') !== 'all';\n    const hasFiletype = urlParams.has('filetype') && urlParams.get('filetype') !== 'all';\n    const hasColor = urlParams.has('color') && urlParams.get('color') !== 'all';\n    const hasPeople = urlParams.has('people') && urlParams.get('people') !== 'all';\n\n    const hasActiveFilter = hasLicense || hasAiType || hasOrientation || hasFiletype || hasColor || hasPeople;\n\n    if (hasActiveFilter) {\n      clearBtn.classList.remove('hidden');\n    } else {\n      clearBtn.classList.add('hidden');\n    }\n  };\n\n  // Alias for local usage\n  const updateDesktopClearAllVisibility = window.updateDesktopClearAllVisibility;\n\n  // Update desktop Clear All button visibility on page load\n  updateDesktopClearAllVisibility();\n\n  // Clear Desktop Filters button\n  document.getElementById(\"clear-desktop-filters\")?.addEventListener(\"click\", function () {\n    // Reset all desktop filter radio buttons to default values\n    const defaultLicense = document.querySelector(\"input[name='license'][value='all']\");\n    const defaultAiType = document.querySelector(\"input[name='ai-type'][value='show_all']\");\n    const defaultOrientation = document.querySelector(\"input[name='orientation'][value='all']\");\n    const defaultFiletype = document.querySelector(\"input[name='filetype'][value='all']\");\n\n    if (defaultLicense) defaultLicense.checked = true;\n    if (defaultAiType) defaultAiType.checked = true;\n    if (defaultOrientation) defaultOrientation.checked = true;\n    if (defaultFiletype) defaultFiletype.checked = true;\n\n    // Clear URL params for filters\n    const urlParams = new URLSearchParams(window.location.search);\n    urlParams.delete('license');\n    urlParams.delete('ai-type');\n    urlParams.delete('orientation');\n    urlParams.delete('filetype');\n    urlParams.delete('color');\n    urlParams.delete('people');\n    urlParams.delete('page');\n\n    // Update URL without reloading\n    const newUrl = window.location.pathname + (urlParams.toString() ? '?' + urlParams.toString() : '');\n    window.history.pushState({}, '', newUrl);\n\n    // Load images via AJAX\n    loadImagesAjax(urlParams);\n\n    // Remove all desktop filter button highlights\n    updateFilterButtonHighlight('license-btn', false);\n    updateFilterButtonHighlight('ai-btn', false);\n    updateFilterButtonHighlight('orientation-btn', false);\n    updateFilterButtonHighlight('filetype-btn', false);\n    updateFilterButtonHighlight('color-btn', false);\n    updateFilterButtonHighlight('people-btn', false);\n\n    // Also clear mobile filter highlights and reset radio buttons\n    updateFilterButtonHighlight('mobile-license-btn', false);\n    updateFilterButtonHighlight('mobile-ai-btn', false);\n    updateFilterButtonHighlight('mobile-orientation-btn', false);\n    updateFilterButtonHighlight('mobile-filetype-btn', false);\n    updateFilterButtonHighlight('mobile-color-btn', false);\n    updateFilterButtonHighlight('mobile-people-btn', false);\n\n    const mobileDefaultLicense = document.querySelector(\"input[name='mobile-license'][value='all']\");\n    const mobileDefaultAiType = document.querySelector(\"input[name='mobile-ai-type'][value='show_all']\");\n    const mobileDefaultOrientation = document.querySelector(\"input[name='mobile-orientation'][value='all']\");\n    const mobileDefaultFiletype = document.querySelector(\"input[name='mobile-filetype'][value='all']\");\n\n    if (mobileDefaultLicense) mobileDefaultLicense.checked = true;\n    if (mobileDefaultAiType) mobileDefaultAiType.checked = true;\n    if (mobileDefaultOrientation) mobileDefaultOrientation.checked = true;\n    if (mobileDefaultFiletype) mobileDefaultFiletype.checked = true;\n\n    // Clear cache\n    saveFiltersToCache();\n\n    // Hide the Clear All button since filters are now cleared\n    updateDesktopClearAllVisibility();\n    updateClearAllButtonVisibility();\n  });\n\n  // Function to check if any mobile filter is active and show/hide Clear All button\n  window.updateClearAllButtonVisibility = function () {\n    const clearBtn = document.getElementById('clear-mobile-filters');\n    if (!clearBtn) return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n\n    // Check URL params for active filters\n    const hasLicense = urlParams.has('license') && urlParams.get('license') !== 'all';\n    const hasAiType = urlParams.has('ai-type') && urlParams.get('ai-type') !== 'show_all';\n    const hasOrientation = urlParams.has('orientation') && urlParams.get('orientation') !== 'all';\n    const hasFiletype = urlParams.has('filetype') && urlParams.get('filetype') !== 'all';\n    const hasColor = urlParams.has('color') && urlParams.get('color') !== 'all';\n    const hasPeople = urlParams.has('people') && urlParams.get('people') !== 'all';\n\n    // Check current radio button selections (in case not yet applied to URL)\n    const licenseSelected = document.querySelector(\"input[name='mobile-license']:checked\")?.value;\n    const aiTypeSelected = document.querySelector(\"input[name='mobile-ai-type']:checked\")?.value;\n    const orientationSelected = document.querySelector(\"input[name='mobile-orientation']:checked\")?.value;\n    const filetypeSelected = document.querySelector(\"input[name='mobile-filetype']:checked\")?.value;\n\n    const hasActiveRadio =\n      (licenseSelected && licenseSelected !== 'all') ||\n      (aiTypeSelected && aiTypeSelected !== 'show_all') ||\n      (orientationSelected && orientationSelected !== 'all') ||\n      (filetypeSelected && filetypeSelected !== 'all');\n\n    const hasActiveFilter = hasLicense || hasAiType || hasOrientation || hasFiletype || hasColor || hasPeople || hasActiveRadio;\n\n    if (hasActiveFilter) {\n      clearBtn.classList.remove('hidden');\n    } else {\n      clearBtn.classList.add('hidden');\n    }\n  };\n\n  // Alias for local usage\n  const updateClearAllButtonVisibility = window.updateClearAllButtonVisibility;\n\n  // Update Clear All button visibility on page load\n  updateClearAllButtonVisibility();\n\n  // Update Clear All button visibility when any mobile filter changes\n  document.querySelectorAll(\"input[name='mobile-license'], input[name='mobile-ai-type'], input[name='mobile-orientation'], input[name='mobile-filetype']\").forEach(radio => {\n    radio.addEventListener('change', updateClearAllButtonVisibility);\n  });\n\n  // Also update when mobile filter overlay opens (to catch URL-based filters)\n  document.getElementById('mobile-filters-btn')?.addEventListener('click', updateClearAllButtonVisibility);\n\n  // Clear Mobile Filters button\n  document.getElementById(\"clear-mobile-filters\")?.addEventListener(\"click\", function () {\n    // Reset all mobile filter radio buttons to default values\n    const defaultLicense = document.querySelector(\"input[name='mobile-license'][value='all']\");\n    const defaultAiType = document.querySelector(\"input[name='mobile-ai-type'][value='show_all']\");\n    const defaultOrientation = document.querySelector(\"input[name='mobile-orientation'][value='all']\");\n    const defaultFiletype = document.querySelector(\"input[name='mobile-filetype'][value='all']\");\n\n    if (defaultLicense) defaultLicense.checked = true;\n    if (defaultAiType) defaultAiType.checked = true;\n    if (defaultOrientation) defaultOrientation.checked = true;\n    if (defaultFiletype) defaultFiletype.checked = true;\n\n    // Clear URL params for filters\n    const urlParams = new URLSearchParams(window.location.search);\n    urlParams.delete('license');\n    urlParams.delete('ai-type');\n    urlParams.delete('orientation');\n    urlParams.delete('filetype');\n    urlParams.delete('color');\n    urlParams.delete('people');\n    urlParams.delete('page');\n\n    // Update URL without reloading\n    const newUrl = window.location.pathname + (urlParams.toString() ? '?' + urlParams.toString() : '');\n    window.history.pushState({}, '', newUrl);\n\n    // Load images via AJAX\n    loadImagesAjax(urlParams);\n\n    // Remove all filter button highlights\n    updateFilterButtonHighlight('mobile-license-btn', false);\n    updateFilterButtonHighlight('mobile-ai-btn', false);\n    updateFilterButtonHighlight('mobile-orientation-btn', false);\n    updateFilterButtonHighlight('mobile-filetype-btn', false);\n    updateFilterButtonHighlight('mobile-color-btn', false);\n    updateFilterButtonHighlight('mobile-people-btn', false);\n\n    // Also clear desktop filter highlights\n    updateFilterButtonHighlight('license-btn', false);\n    updateFilterButtonHighlight('ai-btn', false);\n    updateFilterButtonHighlight('orientation-btn', false);\n    updateFilterButtonHighlight('filetype-btn', false);\n    updateFilterButtonHighlight('color-btn', false);\n    updateFilterButtonHighlight('people-btn', false);\n\n    // Reset desktop filter radio buttons too\n    const desktopDefaultLicense = document.querySelector(\"input[name='license'][value='all']\");\n    const desktopDefaultAiType = document.querySelector(\"input[name='ai-type'][value='show_all']\");\n    const desktopDefaultOrientation = document.querySelector(\"input[name='orientation'][value='all']\");\n    const desktopDefaultFiletype = document.querySelector(\"input[name='filetype'][value='all']\");\n\n    if (desktopDefaultLicense) desktopDefaultLicense.checked = true;\n    if (desktopDefaultAiType) desktopDefaultAiType.checked = true;\n    if (desktopDefaultOrientation) desktopDefaultOrientation.checked = true;\n    if (desktopDefaultFiletype) desktopDefaultFiletype.checked = true;\n\n    // Clear cache\n    saveFiltersToCache();\n\n    // Hide the Clear All button since filters are now cleared\n    updateClearAllButtonVisibility();\n\n    // Close the overlay\n    const mobileFilterOverlay = document.getElementById('mobile-filter-overlay');\n    const mobileHeaderDim = document.getElementById('mobile-header-dim');\n    if (mobileFilterOverlay) {\n      mobileFilterOverlay.classList.add('hidden');\n      mobileHeaderDim?.classList.add('hidden');\n      document.body.style.overflow = '';\n    }\n  });\n\n  // Apply Mobile Filters button\n  document.getElementById(\"apply-mobile-filters\")?.addEventListener(\"click\", function () {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    // Reset page to 1 when filters change\n    urlParams.delete('page');\n\n    // Collect all mobile filter values\n    const license = document.querySelector(\"input[name='mobile-license']:checked\")?.value || 'all';\n    const aiType = document.querySelector(\"input[name='mobile-ai-type']:checked\")?.value || 'show_all';\n    const orientation = document.querySelector(\"input[name='mobile-orientation']:checked\")?.value || 'all';\n    const filetype = document.querySelector(\"input[name='mobile-filetype']:checked\")?.value || 'all';\n\n    // Get color and people from URL params (set via button clicks)\n    const currentColor = urlParams.get('color') || 'all';\n    const currentPeople = urlParams.get('people') || 'all';\n\n    // Clear existing filter params\n    urlParams.delete('license');\n    urlParams.delete('ai-type');\n    urlParams.delete('orientation');\n    urlParams.delete('filetype');\n    urlParams.delete('color');\n    urlParams.delete('people');\n\n    // Set new filter values (only if not 'all')\n    if (license !== 'all') urlParams.set('license', license);\n    if (aiType !== 'show_all') urlParams.set('ai-type', aiType);\n    if (orientation !== 'all') urlParams.set('orientation', orientation);\n    if (filetype !== 'all') urlParams.set('filetype', filetype);\n    if (currentColor !== 'all') urlParams.set('color', currentColor);\n    if (currentPeople !== 'all') urlParams.set('people', currentPeople);\n\n    // Update URL without reloading\n    const newUrl = window.location.pathname + '?' + urlParams.toString();\n    window.history.pushState({}, '', newUrl);\n\n    // Load images via AJAX\n    loadImagesAjax(urlParams);\n\n    // Highlight active filter buttons\n    updateFilterButtonHighlight('mobile-license-btn', license !== 'all');\n    updateFilterButtonHighlight('mobile-ai-btn', aiType !== 'show_all');\n    updateFilterButtonHighlight('mobile-orientation-btn', orientation !== 'all');\n    updateFilterButtonHighlight('mobile-filetype-btn', filetype !== 'all');\n    updateFilterButtonHighlight('mobile-color-btn', currentColor !== 'all');\n    updateFilterButtonHighlight('mobile-people-btn', currentPeople !== 'all');\n\n    // Cache filter state\n    saveFiltersToCache();\n\n    // Close the overlay\n    const mobileFilterOverlay = document.getElementById('mobile-filter-overlay');\n    const mobileHeaderDim = document.getElementById('mobile-header-dim');\n    if (mobileFilterOverlay) {\n      mobileFilterOverlay.classList.add('hidden');\n      mobileHeaderDim?.classList.add('hidden'); // Hide header dim\n      document.body.style.overflow = ''; // Restore scroll\n    }\n  });\n\n\n  // Auto-apply AI filter when radio button is clicked\n  document.querySelectorAll('input[name=\"ai-type\"]').forEach(radio => {\n    radio.addEventListener('change', function () {\n      const urlParams = new URLSearchParams(window.location.search);\n      if (this.value === 'show_all') {\n        urlParams.delete(\"ai-type\");\n      } else {\n        urlParams.set(\"ai-type\", this.value);\n      }\n\n      // Update URL without reloading\n      const newUrl = window.location.pathname + '?' + urlParams.toString();\n      window.history.pushState({}, '', newUrl);\n\n      // Load images via AJAX immediately\n      loadImagesAjax(urlParams);\n\n      // Highlight button if non-default option selected\n      const isActive = this.value !== 'show_all';\n      updateFilterButtonHighlight('ai-btn', isActive);\n\n      // Cache filter state\n      saveFiltersToCache();\n\n      // Close the popup after selection\n      const aiPopup = document.getElementById('ai-popup');\n      if (aiPopup) {\n        aiPopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Auto-apply Mobile AI filter when radio button is clicked (REMOVED - now using Apply button)\n  document.querySelectorAll('input[name=\"mobile-ai-type\"]').forEach(radio => {\n    radio.addEventListener('change', function () {\n      // Just close the popup - filters will be applied when \"Apply Filters\" is clicked\n      const mobileAiPopup = document.getElementById('mobile-ai-popup');\n      if (mobileAiPopup) {\n        mobileAiPopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Auto-apply File Type filter when radio button is clicked\n  document.querySelectorAll('input[name=\"filetype\"]').forEach(radio => {\n    radio.addEventListener('change', function () {\n      const urlParams = new URLSearchParams(window.location.search);\n\n      // Reset page to 1 when filters change\n      urlParams.delete('page');\n\n      if (this.value === 'all') {\n        urlParams.delete(\"filetype\");\n      } else {\n        urlParams.set(\"filetype\", this.value);\n      }\n\n      // Update URL without reloading\n      const newUrl = window.location.pathname + '?' + urlParams.toString();\n      window.history.pushState({}, '', newUrl);\n\n      // Load images via AJAX immediately\n      loadImagesAjax(urlParams);\n\n      // Highlight button if non-default option selected\n      const isActive = this.value !== 'all';\n      updateFilterButtonHighlight('filetype-btn', isActive);\n\n      // Cache filter state\n      saveFiltersToCache();\n\n      // Close the popup after selection\n      const filetypePopup = document.getElementById('filetype-popup');\n      if (filetypePopup) {\n        filetypePopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Auto-apply Mobile File Type filter when radio button is clicked (REMOVED - now using Apply button)\n  document.querySelectorAll('input[name=\"mobile-filetype\"]').forEach(radio => {\n    radio.addEventListener('change', function () {\n      // Just close the popup - filters will be applied when \"Apply Filters\" is clicked\n      const mobileFiletypePopup = document.getElementById('mobile-filetype-popup');\n      if (mobileFiletypePopup) {\n        mobileFiletypePopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Auto-apply Orientation filter when radio button is clicked (desktop)\n  document.querySelectorAll('input[name=\"orientation\"]').forEach(radio => {\n    radio.addEventListener('change', function () {\n      const urlParams = new URLSearchParams(window.location.search);\n\n      // Reset page to 1 when filters change\n      urlParams.delete('page');\n\n      if (this.value === 'all') {\n        urlParams.delete(\"orientation\");\n      } else {\n        urlParams.set(\"orientation\", this.value);\n      }\n\n      // Update URL without reloading\n      const newUrl = window.location.pathname + '?' + urlParams.toString();\n      window.history.pushState({}, '', newUrl);\n\n      // Load images via AJAX immediately\n      loadImagesAjax(urlParams);\n\n      // Highlight button if non-default option selected\n      const isActive = this.value !== 'all';\n      updateFilterButtonHighlight('orientation-btn', isActive);\n\n      // Cache filter state\n      saveFiltersToCache();\n\n      // Close the popup after selection\n      const orientationPopup = document.getElementById('orientation-popup');\n      if (orientationPopup) {\n        orientationPopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Auto-apply Mobile Orientation filter when radio button is clicked (REMOVED - now using Apply button)\n  document.querySelectorAll('input[name=\"mobile-orientation\"]').forEach(radio => {\n    radio.addEventListener('change', function () {\n      // Just close the popup - filters will be applied when \"Apply Filters\" is clicked\n      const mobileOrientationPopup = document.getElementById('mobile-orientation-popup');\n      if (mobileOrientationPopup) {\n        mobileOrientationPopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Auto-apply License filter when radio button is clicked (desktop)\n  document.querySelectorAll('input[name=\"license\"]').forEach(radio => {\n    radio.addEventListener('change', function () {\n      const urlParams = new URLSearchParams(window.location.search);\n\n      // Reset page to 1 when filters change\n      urlParams.delete('page');\n\n      if (this.value === 'all') {\n        urlParams.delete(\"license\");\n      } else {\n        urlParams.set(\"license\", this.value);\n      }\n\n      // Update URL without reloading\n      const newUrl = window.location.pathname + '?' + urlParams.toString();\n      window.history.pushState({}, '', newUrl);\n\n      // Load images via AJAX immediately\n      loadImagesAjax(urlParams);\n\n      // Highlight button if non-default option selected\n      const isActive = this.value !== 'all';\n      updateFilterButtonHighlight('license-btn', isActive);\n\n      // Cache filter state\n      saveFiltersToCache();\n\n      // Close the popup after selection\n      const licensePopup = document.getElementById('license-popup');\n      if (licensePopup) {\n        licensePopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Auto-apply Mobile License filter when radio button is clicked (REMOVED - now using Apply button)\n  document.querySelectorAll('input[name=\"mobile-license\"]').forEach(radio => {\n    radio.addEventListener('change', function () {\n      // Just close the popup - filters will be applied when \"Apply Filters\" is clicked\n      const mobileLicensePopup = document.getElementById('mobile-license-popup');\n      if (mobileLicensePopup) {\n        mobileLicensePopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Add event listener for color filter buttons (desktop and mobile)\n  document.querySelectorAll('[data-color]').forEach(button => {\n    button.addEventListener('click', function () {\n      const urlParams = new URLSearchParams(window.location.search);\n      const colorValue = this.getAttribute('data-color');\n\n      // Check if mobile overlay is open\n      const mobileOverlay = document.getElementById('mobile-filter-overlay');\n      const isOverlayOpen = mobileOverlay && !mobileOverlay.classList.contains('hidden');\n\n      if (isOverlayOpen) {\n        // Mobile overlay is open - just store value, don't auto-apply\n        // Reset page when filters change\n        urlParams.delete('page');\n        if (colorValue === 'all') {\n          urlParams.delete('color');\n        } else {\n          urlParams.set('color', colorValue);\n        }\n        // Update URL silently without reloading images\n        const newUrl = window.location.pathname + '?' + urlParams.toString();\n        window.history.replaceState({}, '', newUrl);\n      } else {\n        // Desktop or overlay closed - auto-apply\n        // Reset page to 1 when filters change\n        urlParams.delete('page');\n        if (colorValue === 'all') {\n          urlParams.delete('color');\n        } else {\n          urlParams.set('color', colorValue);\n        }\n        const newUrl = window.location.pathname + '?' + urlParams.toString();\n        window.history.pushState({}, '', newUrl);\n        loadImagesAjax(urlParams);\n\n        // Highlight button if non-default option selected\n        const isActive = colorValue !== 'all';\n        updateFilterButtonHighlight('color-btn', isActive);\n        updateFilterButtonHighlight('mobile-color-btn', isActive);\n\n        // Cache filter state\n        saveFiltersToCache();\n      }\n\n      // Close the popup after selection\n      const colorPopup = document.getElementById('color-popup');\n      if (colorPopup) {\n        colorPopup.classList.add('hidden');\n      }\n      const mobileColorPopup = document.getElementById('mobile-color-popup');\n      if (mobileColorPopup) {\n        mobileColorPopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Add event listener for people filter buttons\n  document.querySelectorAll('[data-people]').forEach(button => {\n    button.addEventListener('click', function () {\n      const urlParams = new URLSearchParams(window.location.search);\n      const peopleValue = this.getAttribute('data-people');\n\n      // Check if mobile overlay is open\n      const mobileOverlay = document.getElementById('mobile-filter-overlay');\n      const isOverlayOpen = mobileOverlay && !mobileOverlay.classList.contains('hidden');\n\n      if (isOverlayOpen) {\n        // Mobile overlay is open - just store value, don't auto-apply\n        // Reset page when filters change\n        urlParams.delete('page');\n        if (peopleValue === 'all') {\n          urlParams.delete('people');\n        } else {\n          urlParams.set('people', peopleValue);\n        }\n        // Update URL silently without reloading images\n        const newUrl = window.location.pathname + '?' + urlParams.toString();\n        window.history.replaceState({}, '', newUrl);\n      } else {\n        // Desktop or overlay closed - auto-apply\n        // Reset page to 1 when filters change\n        urlParams.delete('page');\n        if (peopleValue === 'all') {\n          urlParams.delete('people');\n        } else {\n          urlParams.set('people', peopleValue);\n        }\n        const newUrl = window.location.pathname + '?' + urlParams.toString();\n        window.history.pushState({}, '', newUrl);\n        loadImagesAjax(urlParams);\n\n        // Highlight button if non-default option selected\n        const isActive = peopleValue !== 'all';\n        updateFilterButtonHighlight('people-btn', isActive);\n        updateFilterButtonHighlight('mobile-people-btn', isActive);\n\n        // Cache filter state\n        saveFiltersToCache();\n      }\n\n      // Close the popup after selection\n      const peoplePopup = document.getElementById('people-popup');\n      if (peoplePopup) {\n        peoplePopup.classList.add('hidden');\n      }\n      const mobilePeoplePopup = document.getElementById('mobile-people-popup');\n      if (mobilePeoplePopup) {\n        mobilePeoplePopup.classList.add('hidden');\n      }\n    });\n  });\n\n  // Add event listener for pagination\n  const prevPageButton = document.getElementById('prev-page-btn');\n  const nextPageButton = document.getElementById('next-page-btn');\n  const pageInput = document.querySelector('.pagination-controls input[type=\"text\"]');\n\n  // Get current page from URL parameters\n  const paginationUrlParams = new URLSearchParams(window.location.search);\n  const currentPageFromUrl = parseInt(paginationUrlParams.get('page'), 10) || 1;\n\n  // Get total pages from the \"of X\" text next to the input\n  const pageInfoText = pageInput?.parentElement?.textContent || '';\n  const totalPagesMatch = pageInfoText.match(/of\\s+(\\d+)/);\n  const totalPages = totalPagesMatch ? parseInt(totalPagesMatch[1], 10) : 1;\n\n  // Initialize input with current page from URL if it's empty\n  if (pageInput && !pageInput.value) {\n    pageInput.value = currentPageFromUrl;\n  }\n\n  if (prevPageButton) {\n    prevPageButton.addEventListener('click', () => {\n      // Don't do anything if button is disabled\n      if (prevPageButton.disabled) {\n        return;\n      }\n\n      const currentPage = parseInt(paginationUrlParams.get('page'), 10) || parseInt(pageInput?.value, 10) || 1;\n      const prevPage = currentPage - 1;\n\n      // Don't go below page 1\n      if (prevPage < 1) {\n        return;\n      }\n\n      const url = new URL(window.location.href);\n      url.searchParams.set('page', prevPage);\n      window.location.href = url.toString();\n    });\n  }\n\n  if (nextPageButton) {\n    nextPageButton.addEventListener('click', () => {\n      // Don't do anything if button is disabled\n      if (nextPageButton.disabled) {\n        return;\n      }\n\n      const currentPage = parseInt(paginationUrlParams.get('page'), 10) || parseInt(pageInput?.value, 10) || 1;\n      const nextPage = currentPage + 1;\n\n      // Don't go beyond total pages\n      if (nextPage > totalPages) {\n        return;\n      }\n\n      const url = new URL(window.location.href);\n      url.searchParams.set('page', nextPage);\n      window.location.href = url.toString();\n    });\n  }\n\n  if (pageInput) {\n    pageInput.addEventListener('change', (event) => {\n      let newPage = parseInt(event.target.value, 10) || 1;\n\n      // Clamp page to valid range\n      if (newPage < 1) {\n        newPage = 1;\n      } else if (newPage > totalPages) {\n        newPage = totalPages;\n      }\n\n      // Update input to show clamped value\n      event.target.value = newPage;\n\n      const url = new URL(window.location.href);\n      url.searchParams.set('page', newPage);\n      window.location.href = url.toString();\n    });\n  }\n\n  // Mobile pagination elements\n  const mobilePrevPageButton = document.getElementById('mobile-prev-page-btn');\n  const mobileNextPageButton = document.getElementById('mobile-next-page-btn');\n  const mobilePageInput = document.getElementById('mobile-page-input');\n  const mobileTotalPagesEl = document.getElementById('mobile-total-pages');\n  const mobileTotalPages = mobileTotalPagesEl ? parseInt(mobileTotalPagesEl.textContent, 10) : totalPages;\n\n  if (mobilePrevPageButton) {\n    mobilePrevPageButton.addEventListener('click', () => {\n      if (mobilePrevPageButton.disabled) return;\n\n      const currentPage = parseInt(paginationUrlParams.get('page'), 10) || parseInt(mobilePageInput?.value, 10) || 1;\n      const prevPage = currentPage - 1;\n\n      if (prevPage < 1) return;\n\n      const url = new URL(window.location.href);\n      url.searchParams.set('page', prevPage);\n      window.location.href = url.toString();\n    });\n  }\n\n  if (mobileNextPageButton) {\n    mobileNextPageButton.addEventListener('click', () => {\n      if (mobileNextPageButton.disabled) return;\n\n      const currentPage = parseInt(paginationUrlParams.get('page'), 10) || parseInt(mobilePageInput?.value, 10) || 1;\n      const nextPage = currentPage + 1;\n\n      if (nextPage > mobileTotalPages) return;\n\n      const url = new URL(window.location.href);\n      url.searchParams.set('page', nextPage);\n      window.location.href = url.toString();\n    });\n  }\n\n  if (mobilePageInput) {\n    mobilePageInput.addEventListener('change', (event) => {\n      let newPage = parseInt(event.target.value, 10) || 1;\n\n      // Clamp page to valid range\n      if (newPage < 1) {\n        newPage = 1;\n      } else if (newPage > mobileTotalPages) {\n        newPage = mobileTotalPages;\n      }\n\n      // Update input to show clamped value\n      event.target.value = newPage;\n\n      const url = new URL(window.location.href);\n      url.searchParams.set('page', newPage);\n      window.location.href = url.toString();\n    });\n  }\n}); // End of DOMContentLoaded for filter handlers\n\n// Function to update pagination controls based on new results\nfunction updatePaginationControls(currentPage, totalPages, totalResults) {\n  // Desktop elements\n  const prevPageBtn = document.getElementById('prev-page-btn');\n  const nextPageBtn = document.getElementById('next-page-btn');\n  const pageInput = document.querySelector('.pagination-controls input[type=\"text\"]');\n  const pageInfoText = pageInput?.parentElement;\n\n  // Mobile elements\n  const mobilePrevPageBtn = document.getElementById('mobile-prev-page-btn');\n  const mobileNextPageBtn = document.getElementById('mobile-next-page-btn');\n  const mobilePageInput = document.getElementById('mobile-page-input');\n  const mobileTotalPages = document.getElementById('mobile-total-pages');\n\n  // Update desktop page input value\n  if (pageInput) {\n    pageInput.value = currentPage;\n  }\n\n  // Update desktop \"of X\" text\n  if (pageInfoText) {\n    pageInfoText.innerHTML = `Page <input type=\"text\" class=\"rounded bg-gray-600 w-12 px-2 py-1 text-center\" value=\"${currentPage}\"> of ${totalPages}`;\n\n    // Re-attach event listener to new input\n    const newPageInput = pageInfoText.querySelector('input[type=\"text\"]');\n    if (newPageInput) {\n      newPageInput.addEventListener('change', (event) => {\n        let newPage = parseInt(event.target.value, 10) || 1;\n        if (newPage < 1) newPage = 1;\n        else if (newPage > totalPages) newPage = totalPages;\n        event.target.value = newPage;\n\n        const url = new URL(window.location.href);\n        url.searchParams.set('page', newPage);\n        window.location.href = url.toString();\n      });\n    }\n  }\n\n  // Update mobile page input and total pages\n  if (mobilePageInput) {\n    mobilePageInput.value = currentPage;\n  }\n  if (mobileTotalPages) {\n    mobileTotalPages.textContent = totalPages;\n  }\n\n  // Helper function to update button state\n  function updateButtonState(btn, isDisabled) {\n    if (!btn) return;\n    if (isDisabled) {\n      btn.disabled = true;\n      btn.classList.remove('bg-white', 'text-gray-800', 'hover:bg-gray-100');\n      btn.classList.add('bg-gray-600', 'text-gray-400', 'cursor-not-allowed');\n    } else {\n      btn.disabled = false;\n      btn.classList.add('bg-white', 'text-gray-800', 'hover:bg-gray-100');\n      btn.classList.remove('bg-gray-600', 'text-gray-400', 'cursor-not-allowed');\n    }\n  }\n\n  // Update Previous buttons state (desktop and mobile)\n  const isPrevDisabled = currentPage <= 1;\n  updateButtonState(prevPageBtn, isPrevDisabled);\n  updateButtonState(mobilePrevPageBtn, isPrevDisabled);\n\n  // Update Next buttons state (desktop and mobile)\n  const isNextDisabled = currentPage >= totalPages || totalPages <= 1;\n  updateButtonState(nextPageBtn, isNextDisabled);\n  updateButtonState(mobileNextPageBtn, isNextDisabled);\n}\n\n// AJAX function to load images (global scope)\nfunction loadImagesAjax(urlParams) {\n  // Reset page to 1 when filters change (unless explicitly set)\n  if (!urlParams.has('page')) {\n    urlParams.delete('page');\n  }\n\n  const imageGallery = document.getElementById('image-gallery');\n  const totalResults = document.querySelector('.tag p');\n\n  // Show skeleton loading animation\n  if (imageGallery) {\n    const skeletonCards = Array(12).fill(0).map((_, i) => {\n      // Vary heights for visual interest (simulating masonry)\n      const heights = ['h-48', 'h-64', 'h-56', 'h-72', 'h-52', 'h-60'];\n      const height = heights[i % heights.length];\n      return `\n        <div class=\"skeleton-card mb-4\">\n          <div class=\"bg-gray-700 rounded-lg ${height} w-full relative overflow-hidden animate-pulse\">\n            <div class=\"absolute inset-0 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 skeleton-shimmer\"></div>\n          </div>\n        </div>\n      `;\n    }).join('');\n\n    imageGallery.innerHTML = skeletonCards;\n\n    // Add shimmer animation style if not exists\n    if (!document.getElementById('skeleton-style')) {\n      const style = document.createElement('style');\n      style.id = 'skeleton-style';\n      style.textContent = `\n        @keyframes shimmer {\n          0% { transform: translateX(-100%); }\n          100% { transform: translateX(100%); }\n        }\n        .skeleton-shimmer {\n          animation: shimmer 1.5s infinite;\n        }\n      `;\n      document.head.appendChild(style);\n    }\n  }\n\n  // Show skeleton for total results\n  if (totalResults) {\n    totalResults.innerHTML = `\n      <span class=\"inline-block h-5 w-24 bg-gray-700 rounded relative overflow-hidden align-middle\">\n        <span class=\"absolute inset-0 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 skeleton-shimmer\"></span>\n      </span>\n    `;\n  }\n\n  // Make AJAX request with cache busting\n  const cacheBuster = '&_t=' + new Date().getTime();\n  const requestUrl = 'api.php?' + urlParams.toString() + cacheBuster;\n\n  fetch(requestUrl)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok: ' + response.status);\n      }\n      return response.text(); // Get as text first to debug\n    })\n    .then(text => {\n      try {\n        return JSON.parse(text);\n      } catch (e) {\n        throw new Error('Invalid JSON response: ' + text.substring(0, 200));\n      }\n    })\n    .then(data => {\n      if (data.error) {\n        console.error('Server error:', data.error);\n        if (imageGallery) {\n          imageGallery.innerHTML = '<div class=\"w-full text-center text-white py-20 text-lg\" style=\"column-span: all;\">Server error: ' + data.error + '</div>';\n        }\n        return;\n      }\n      if (imageGallery) {\n        imageGallery.innerHTML = data.html;\n      }\n      if (totalResults) {\n        totalResults.textContent = data.total + ' results';\n\n        // Trigger animation reliably\n        totalResults.classList.remove('animate-fade-slide');\n\n        // Use requestAnimationFrame to ensure the browser paints the removal\n        requestAnimationFrame(() => {\n          requestAnimationFrame(() => {\n            totalResults.classList.add('animate-fade-slide');\n          });\n        });\n      }\n\n      // Update pagination controls\n      updatePaginationControls(data.page || 1, data.totalPages || 1, data.total || 0);\n\n      // Update Clear All button visibility (desktop and mobile)\n      if (typeof updateDesktopClearAllVisibility === 'function') {\n        updateDesktopClearAllVisibility();\n      }\n      if (typeof updateClearAllButtonVisibility === 'function') {\n        updateClearAllButtonVisibility();\n      }\n\n      // Reinitialize image card overlays if needed\n      if (typeof initializeImageCards === 'function') {\n        initializeImageCards();\n      }\n    })\n    .catch(error => {\n      console.error('Error loading images:', error);\n      if (imageGallery) {\n        imageGallery.innerHTML = '<div class=\"w-full text-center text-white py-20 text-lg\" style=\"column-span: all;\">Error: ' + error.message + '</div>';\n      }\n    });\n}\n"],
  "mappings": "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",
  "names": ["debounce", "func", "wait", "timeout", "args", "later", "sidebar", "collapseBtn", "mainContent", "sidebarLogo", "sidebarDivider", "headerLogo", "isCollapsed", "handleResize", "screenWidth", "applySidebarCollapse", "applySidebarExpand", "text", "link", "svg", "helperIcons", "foucStyle", "searchInput", "clearIcon", "toggleClearButton", "e", "detail", "chevron", "filtersButton", "target", "isDown", "isDesktopView", "filterElements", "positionPopup", "button", "popup", "buttonRect", "scrollLeft", "closeAllPopups", "except", "element", "relevancePopup", "relevanceChevron", "btn", "relevanceButton", "isInsideFilter", "isInsideRelevance", "b", "mobileSidebarOverlay", "mobileSidebar", "mobileMenuBtn", "mobileSidebarClose", "mobileFiltersBtn", "mobileFilterOverlay", "closeFilterOverlayBtn", "mobileHeaderDim", "mobileAllImagesBtn", "mobileAllImagesDropdown", "mobileAllImagesText", "mobileAllImagesChevron", "categoryOptions", "radio", "selectedOption", "categoryText", "opt", "icons", "createImageOverlay", "initializeImageCards", "card", "downloadBtn", "editBtn", "saveBtn", "discoverBtn", "imageId", "imageAlt", "handleImageAction", "action", "searchTags", "tagsContainer", "scrollLeftBtn", "scrollRightBtn", "tag", "tagText", "t", "updateArrows", "scrollWidth", "clientWidth", "sidebarFooterIcons", "popupRegistry", "initPopupHandler", "collapsedFooterIcons", "collapsedThemeBtn", "setupThemePopup", "mutations", "mutation", "helperIconsContainer", "isCollapsedOnLoad", "config", "buttonId", "popupId", "onOpen", "onClose", "closeOtherPopups", "otherPopup", "isCurrentlyHidden", "themeButton", "themePopup", "themeBtnWrapper", "item", "mobileAllToolsBtn", "mobileAllToolsPage", "mobileAllToolsBack", "updateFilterButtonHighlight", "isActive", "FILTER_CACHE_KEY", "saveFiltersToCache", "filters", "loadFiltersFromURL", "urlParams", "aiType", "license", "orientation", "filetype", "color", "people", "aiRadio", "mobileAiRadio", "licenseRadio", "mobileLicenseRadio", "orientationRadio", "mobileOrientationRadio", "filetypeRadio", "mobileFiletypeRadio", "newUrl", "loadImagesAjax", "clearBtn", "hasLicense", "hasAiType", "hasOrientation", "hasFiletype", "hasColor", "hasPeople", "updateDesktopClearAllVisibility", "defaultLicense", "defaultAiType", "defaultOrientation", "defaultFiletype", "mobileDefaultLicense", "mobileDefaultAiType", "mobileDefaultOrientation", "mobileDefaultFiletype", "updateClearAllButtonVisibility", "licenseSelected", "aiTypeSelected", "orientationSelected", "filetypeSelected", "desktopDefaultLicense", "desktopDefaultAiType", "desktopDefaultOrientation", "desktopDefaultFiletype", "currentColor", "currentPeople", "aiPopup", "mobileAiPopup", "filetypePopup", "mobileFiletypePopup", "orientationPopup", "mobileOrientationPopup", "licensePopup", "mobileLicensePopup", "colorValue", "mobileOverlay", "colorPopup", "mobileColorPopup", "peopleValue", "peoplePopup", "mobilePeoplePopup", "prevPageButton", "nextPageButton", "pageInput", "paginationUrlParams", "currentPageFromUrl", "totalPagesMatch", "totalPages", "prevPage", "url", "nextPage", "event", "newPage", "mobilePrevPageButton", "mobileNextPageButton", "mobilePageInput", "mobileTotalPagesEl", "mobileTotalPages", "updatePaginationControls", "currentPage", "totalResults", "prevPageBtn", "nextPageBtn", "pageInfoText", "mobilePrevPageBtn", "mobileNextPageBtn", "newPageInput", "updateButtonState", "isDisabled", "isPrevDisabled", "isNextDisabled", "imageGallery", "skeletonCards", "_", "heights", "style", "cacheBuster", "requestUrl", "response", "data", "error"]
}
